import{c as v,r as K}from"./react-392ddc67.js";var ci={},rr={},De={},Ue={},Te={},Pe={},F={},me={};Object.defineProperty(me,"__esModule",{value:!0});me.SEPARATOR=me.PREFIX=void 0;me.PREFIX="APP";me.SEPARATOR="::";var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});function ir(e,i){if(i==null||typeof e>"u"||!Object.prototype.isPrototypeOf.call(Object.getPrototypeOf(e),i)||i.constructor.name!=="Object"&&i.constructor.name!=="Array")return i;var n={};return Object.keys(i).forEach(function(r){var a=Object.prototype.hasOwnProperty.call(e,r);a&&typeof e[r]=="object"&&!Array.isArray(e[r])?n[r]=ir(e[r],i[r]):n[r]=i[r]}),Object.keys(e).forEach(function(r){var a=Object.prototype.hasOwnProperty.call(i,r);a||(n[r]=e[r])}),Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}Jt.default=ir;var $={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentType=e.Group=void 0,function(i){i.AuthCode="AuthCode",i.Button="Button",i.ButtonGroup="ButtonGroup",i.Cart="Cart",i.Client="Client",i.ContextualSaveBar="ContextualSaveBar",i.Error="Error",i.Features="Features",i.FeedbackModal="FeedbackModal",i.Fullscreen="Fullscreen",i.LeaveConfirmation="LeaveConfirmation",i.Link="Link",i.Loading="Loading",i.Menu="Menu",i.Modal="Modal",i.Navigation="Navigation",i.Performance="Performance",i.Pos="Pos",i.Print="Print",i.ResourcePicker="Resource_Picker",i.unstable_Picker="unstable_Picker",i.Scanner="Scanner",i.SessionToken="SessionToken",i.Share="Share",i.TitleBar="TitleBar",i.Toast="Toast",i.MarketingExternalActivityTopBar="MarketingExternalActivityTopBar",i.WebVitals="WebVitals"}(e.Group||(e.Group={})),function(i){i.Button="Button",i.ButtonGroup="ButtonGroup"}(e.ComponentType||(e.ComponentType={}))})($);const si="@shopify/app-bridge",fi="3.7.2",li="index.d.ts",di="index.js",pi="umd/index.js",vi="umd/index.js",hi=["/actions/","/client/","/umd/","/utilities/","/util/","/validate/","/development.d.ts","/development.js","/index.d.ts","/index.js","/MessageTransport.d.ts","/MessageTransport.js","/production.d.ts","/production.js"],_i={access:"public","@shopify:registry":"https://registry.npmjs.org"},yi="git@github.com:Shopify/app-bridge.git",Ai="https://shopify.dev/tools/app-bridge",gi="Shopify Inc.",bi="MIT",Pi={build:"yarn build:tsc && yarn build:npm && yarn build:umd","build:tsc":"NODE_ENV=production tsc","build:umd":"NODE_ENV=production webpack -p","build:npm":"shx cp -r ./npm/index.js ./index.js",check:"tsc",clean:`cat package.json | node -pe "JSON.parse(require('fs').readFileSync('/dev/stdin').toString()).files.map(f => './'+f).join(' ')" | xargs rm -rf`,pack:"yarn pack",size:"size-limit"},Oi=!1,Ei={base64url:"^3.0.1","web-vitals":"^3.0.1"},mi={"@types/node":"^10.12.5",shx:"^0.3.3"},Si={name:si,version:fi,types:li,main:di,unpkg:pi,jsdelivr:vi,files:hi,private:!1,publishConfig:_i,repository:yi,homepage:Ai,author:gi,license:bi,scripts:Pi,sideEffects:Oi,"size-limit":[{limit:"10 KB",path:"production.js"}],dependencies:Ei,devDependencies:mi};(function(e){var i=v&&v.__assign||function(){return i=Object.assign||function(y){for(var b,P=1,m=arguments.length;P<m;P++){b=arguments[P];for(var M in b)Object.prototype.hasOwnProperty.call(b,M)&&(y[M]=b[M])}return y},i.apply(this,arguments)},n=v&&v.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.NonSnakeCaseGroup=e.findMatchInEnum=e.forEachInEnum=e.getMergedProps=e.updateActionFromPayload=e.isValidOptionalString=e.isValidOptionalNumber=e.getEventNameSpace=e.getVersion=e.actionWrapper=void 0;var r=me,a=n(Jt),t=$,u=Si;function h(y){return i(i({},y),{version:A(),clientInterface:{name:u.name,version:A()}})}e.actionWrapper=h;function A(){return u.version}e.getVersion=A;function o(y,b,P){if(b.startsWith(""+r.PREFIX+r.SEPARATOR))return b;var m=g(y);if(P){var M=P.subgroups,S=P.type;M&&M.length>0&&(m+=m.length>0?r.SEPARATOR:"",M.forEach(function(O,C){m+=""+O.toUpperCase()+(C<M.length-1?r.SEPARATOR:"")})),S!==y&&S&&(m+=""+(m.length>0?r.SEPARATOR:"")+S.toUpperCase())}return m&&(m+=""+(m.length>0?r.SEPARATOR:"")+b.toUpperCase()),""+r.PREFIX+r.SEPARATOR+m}e.getEventNameSpace=o;function l(y){return y==null||typeof y=="number"}e.isValidOptionalNumber=l;function _(y){return y==null||typeof y=="string"}e.isValidOptionalString=_;function p(y,b){var P=y.id;return P===b.id?(Object.assign(y,d(y,b)),!0):!1}e.updateActionFromPayload=p;function d(y,b){var P=a.default(y,b);if(!P){var m=Object.assign(y,b);return m}return P}e.getMergedProps=d;function f(y,b){Object.keys(y).forEach(function(P){b(y[P])})}e.forEachInEnum=f;function s(y,b){var P=Object.keys(y).find(function(m){return b===y[m]});return P?y[P]:void 0}e.findMatchInEnum=s;function c(y){return y.replace(/([A-Z])/g,function(b,P,m){return(m===0?"":"_")+b[0].toLowerCase()})}e.NonSnakeCaseGroup=[t.Group.AuthCode,t.Group.Button,t.Group.ButtonGroup,t.Group.Cart,t.Group.Error,t.Group.Features,t.Group.Fullscreen,t.Group.Link,t.Group.Loading,t.Group.Menu,t.Group.Modal,t.Group.Navigation,t.Group.Pos,t.Group.Print,t.Group.ResourcePicker,t.Group.Scanner,t.Group.SessionToken,t.Group.Share,t.Group.TitleBar,t.Group.Toast,t.Group.unstable_Picker];function g(y){return e.NonSnakeCaseGroup.includes(y)?y.toUpperCase():c(y).toUpperCase()}})(F);var V={},Fe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LifecycleHook=e.MessageType=e.PermissionType=e.isV1Config=void 0;function i(n){return!n.host}e.isV1Config=i,function(n){n.Dispatch="Dispatch",n.Subscribe="Subscribe"}(e.PermissionType||(e.PermissionType={})),function(n){n.GetState="getState",n.Dispatch="dispatch",n.Subscribe="subscribe",n.Unsubscribe="unsubscribe"}(e.MessageType||(e.MessageType={})),function(n){n.UpdateAction="UpdateAction",n.DispatchAction="DispatchAction"}(e.LifecycleHook||(e.LifecycleHook={}))})(Fe);var be={};Object.defineProperty(be,"__esModule",{value:!0});be.removeFromCollection=be.addAndRemoveFromCollection=void 0;function Ti(e,i,n){return e.push(i),function(){return ar(e,i,n)}}be.addAndRemoveFromCollection=Ti;function ar(e,i,n){var r=e.findIndex(function(a){return a===i});return r>=0?(e.splice(r,1),n&&n(i),!0):!1}be.removeFromCollection=ar;var ve={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.throwError=e.fromAction=e.AppBridgeError=e.invalidOriginAction=e.isErrorEventName=e.permissionAction=e.networkAction=e.persistenceAction=e.unsupportedOperationAction=e.unexpectedAction=e.invalidAction=e.invalidActionType=e.invalidPayload=e.Message=e.AppActionType=e.Action=void 0;var i=F,n=$,r;(function(y){y.INVALID_ACTION="APP::ERROR::INVALID_ACTION",y.INVALID_ACTION_TYPE="APP::ERROR::INVALID_ACTION_TYPE",y.INVALID_PAYLOAD="APP::ERROR::INVALID_PAYLOAD",y.INVALID_OPTIONS="APP::ERROR::INVALID_OPTIONS",y.UNEXPECTED_ACTION="APP::ERROR::UNEXPECTED_ACTION",y.PERSISTENCE="APP::ERROR::PERSISTENCE",y.UNSUPPORTED_OPERATION="APP::ERROR::UNSUPPORTED_OPERATION",y.NETWORK="APP::ERROR::NETWORK",y.PERMISSION="APP::ERROR::PERMISSION",y.FAILED_AUTHENTICATION="APP::ERROR::FAILED_AUTHENTICATION",y.INVALID_ORIGIN="APP::ERROR::INVALID_ORIGIN"})(r=e.Action||(e.Action={})),function(y){y.INVALID_CONFIG="APP::ERROR::INVALID_CONFIG",y.MISSING_CONFIG="APP::APP_ERROR::MISSING_CONFIG",y.MISSING_APP_BRIDGE_MIDDLEWARE="APP::APP_ERROR::MISSING_APP_BRIDGE_MIDDLEWARE",y.WINDOW_UNDEFINED="APP::APP_ERROR::WINDOW_UNDEFINED",y.REDUX_REINSTANTIATED="APP::APP_ERROR::REDUX_REINSTANTIATED",y.MISSING_LOCAL_ORIGIN="APP::APP_ERROR::MISSING_LOCAL_ORIGIN",y.MISSING_HOST_PROVIDER="APP::APP_ERROR::MISSING_HOST_PROVIDER",y.MISSING_ROUTER_CONTEXT="APP::APP_ERROR::MISSING_ROUTER_CONTEXT",y.MISSING_HISTORY_BLOCK="APP::APP_ERROR::MISSING_HISTORY_BLOCK"}(e.AppActionType||(e.AppActionType={}));function a(y,b,P){var m=b.payload;return i.actionWrapper({type:y,group:n.Group.Error,payload:{action:b,message:P,type:y,id:m&&m.id?m.id:void 0}})}(function(y){y.MISSING_PAYLOAD="Missing payload",y.INVALID_PAYLOAD_ID="Id in payload is missing or invalid"})(e.Message||(e.Message={}));function t(y,b){return a(r.INVALID_PAYLOAD,y,b||"The action's payload is missing required properties or has invalid properties")}e.invalidPayload=t;function u(y,b){return i.actionWrapper({group:n.Group.Error,payload:{action:y,message:b||"The action type is invalid or unsupported",type:r.INVALID_ACTION_TYPE},type:r.INVALID_ACTION_TYPE})}e.invalidActionType=u;function h(y,b){return i.actionWrapper({group:n.Group.Error,payload:{action:y,message:b||"The action's has missing/invalid values for `group`, `type` or `version`",type:r.INVALID_ACTION},type:r.INVALID_ACTION})}e.invalidAction=h;function A(y,b){return i.actionWrapper({group:n.Group.Error,payload:{action:y,message:b||"Action cannot be called at this time",type:r.UNEXPECTED_ACTION},type:r.UNEXPECTED_ACTION})}e.unexpectedAction=A;function o(y,b){return a(r.UNSUPPORTED_OPERATION,y,b||"The action type is unsupported")}e.unsupportedOperationAction=o;function l(y,b){return a(r.PERSISTENCE,y,b||"Action cannot be persisted on server")}e.persistenceAction=l;function _(y,b){return a(r.NETWORK,y,b||"Network error")}e.networkAction=_;function p(y,b){return a(r.PERMISSION,y,b||"Action is not permitted")}e.permissionAction=p;function d(y){var b=i.findMatchInEnum(r,y);return typeof b=="string"}e.isErrorEventName=d;function f(y){return i.actionWrapper({group:n.Group.Error,payload:{message:y,type:r.INVALID_ORIGIN},type:r.INVALID_ORIGIN})}e.invalidOriginAction=f;var s=function(){function y(b){this.name="AppBridgeError",this.message=b,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack}return y}();e.AppBridgeError=s,s.prototype=Object.create(Error.prototype);function c(y,b,P){var m=y?b+": "+y:b,M=new s(m);return M.action=P,M.type=b,M}e.fromAction=c;function g(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var P=y[0],m,M;throw typeof y[1]=="string"?m=y[1]:(M=y[1],m=y[2]||""),c(m,P,M)}e.throwError=g})(ve);var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.generateUuid=void 0;function we(e){return Array.from(e).map(function(i){return("00"+i.toString(16)).slice(-2)}).join("")}function Re(e){if(typeof Uint8Array=="function"&&typeof window=="object"&&window.crypto){var i=new Uint8Array(e),n=window.crypto.getRandomValues(i);if(n)return n}return Array.from(new Array(e),function(){return Math.random()*255|0})}function or(){var e=64,i=Re(1),n=Re(2);return i[0]&=191,n[0]&=15|e,[we(Re(4)),"-",we(Re(2)),"-",we(n),"-",we(i),we(Re(1)),"-",we(Re(6))].join("")}Ce.generateUuid=or;Ce.default=or;var Ci=v&&v.__extends||function(){var e=function(i,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])},e(i,n)};return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(i,n);function r(){this.constructor=i}i.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ft=v&&v.__assign||function(){return ft=Object.assign||function(e){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},ft.apply(this,arguments)},Mi=v&&v.__spreadArray||function(e,i){for(var n=0,r=i.length,a=e.length;n<r;n++,a++)e[a]=i[n];return e},wi=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(V,"__esModule",{value:!0});V.ActionSetWithChildren=V.ActionSet=void 0;var Ri=Fe,Wt=be,nt=ve,Ii=$,Ni=wi(Ce),Lt=F,ur=function(){function e(i,n,r,a){var t=this;this.app=i,this.type=n,this.group=r,this.subgroups=[],this.subscriptions=[],i||nt.throwError(nt.Action.INVALID_ACTION,"Missing required `app`"),this.id=a||Ni.default(),this.defaultGroup=r;var u=this.set;this.set=function(){for(var h,A=[],o=0;o<arguments.length;o++)A[o]=arguments[o];return t.app.hooks?(h=t.app.hooks).run.apply(h,Mi([Ri.LifecycleHook.UpdateAction,u,t],A)):u.apply(t,A)}}return e.prototype.set=function(){},Object.defineProperty(e.prototype,"component",{get:function(){return{id:this.id,subgroups:this.subgroups,type:this.type}},enumerable:!1,configurable:!0}),e.prototype.updateSubscription=function(i,n,r){var a=i.eventType,t=i.callback,u=i.component,h;return h=this.subscriptions.findIndex(function(A){return A===i}),h>=0?this.subscriptions[h].unsubscribe():h=void 0,this.group=n,this.subgroups=r,Object.assign(u,{subgroups:this.subgroups}),this.subscribe(a,t,u,h)},e.prototype.error=function(i){var n=this,r=[];return Lt.forEachInEnum(nt.Action,function(a){r.push(n.subscriptions.length),n.subscribe(a,i)}),function(){var a=r.map(function(t){return n.subscriptions[t]});a.forEach(function(t){Wt.removeFromCollection(n.subscriptions,t,function(u){u.unsubscribe()})})}},e.prototype.subscribe=function(i,n,r,a){var t=this,u=r||this.component,h=i.toUpperCase(),A=typeof a=="number"?n:n.bind(this),o;nt.isErrorEventName(i)?o=Lt.getEventNameSpace(Ii.Group.Error,i,ft(ft({},u),{type:""})):o=Lt.getEventNameSpace(this.group,i,u);var l=this.app.subscribe(o,A,r?r.id:this.id),_={eventType:h,unsubscribe:l,callback:A,component:u,updateSubscribe:function(p,d){return t.updateSubscription(_,p,d)}};return typeof a=="number"&&a>=0&&a<this.subscriptions.length?this.subscriptions[a]=_:this.subscriptions.push(_),l},e.prototype.unsubscribe=function(i){return i===void 0&&(i=!1),cr(this.subscriptions,this.defaultGroup,i),this},e}();V.ActionSet=ur;var Di=function(e){Ci(i,e);function i(){var n=e!==null&&e.apply(this,arguments)||this;return n.children=[],n}return i.prototype.unsubscribe=function(n,r){return n===void 0&&(n=!0),r===void 0&&(r=!1),cr(this.subscriptions,this.defaultGroup,r),this.children.forEach(function(a){a instanceof i?a.unsubscribe(n,!n):a.unsubscribe(!n)}),this},i.prototype.getChild=function(n){var r=this.children.findIndex(function(a){return a.id===n});return r>=0?this.children[r]:void 0},i.prototype.getChildIndex=function(n){return this.children.findIndex(function(r){return r.id===n})},i.prototype.getChildSubscriptions=function(n,r){return this.subscriptions.filter(function(a){return a.component.id===n&&(!r||r===a.eventType)})},i.prototype.addChild=function(n,r,a){var t=this,u=n.subscriptions,h=this.getChild(n.id);return h||this.children.push(n),!u||r===n.group&&a===n.subgroups?this:(u.forEach(function(A){var o=A.updateSubscribe;o(r,a)}),Object.assign(n,{group:r,subgroups:a}),n instanceof i&&n.children.forEach(function(A){return t.addChild(A,r,a)}),this)},i.prototype.removeChild=function(n){var r=this;return Wt.removeFromCollection(this.children,this.getChild(n),function(){var a=r.subscriptions.filter(function(t){return t.component.id===n});a.forEach(function(t){Wt.removeFromCollection(r.subscriptions,t,function(u){u.unsubscribe()})})}),this},i.prototype.subscribeToChild=function(n,r,a){var t=this,u=a.bind(this);if(r instanceof Array)return r.forEach(function(l){return t.subscribeToChild(n,l,a)}),this;if(typeof r!="string")return this;var h=r.toUpperCase(),A=this.getChildSubscriptions(n.id,h);if(A.length>0)A.forEach(function(l){return l.updateSubscribe(t.group,n.subgroups)});else{var o={id:n.id,subgroups:n.subgroups,type:n.type};this.subscribe(h,u,o)}return this},i.prototype.getUpdatedChildActions=function(n,r){if(n.length===0){for(;r.length>0;){var a=r.pop();if(!a)break;this.removeChild(a.id)}return}for(var t=n.filter(function(A,o,l){return o===l.indexOf(A)}),u=t.map(function(A){return A.id}),h=r.filter(function(A){return u.indexOf(A.id)<0});h.length>0;){var a=h.pop();if(!a)break;this.removeChild(a.id)}return t},i}(ur);V.ActionSetWithChildren=Di;function cr(e,i,n){n===void 0&&(n=!1),e.forEach(function(r){if(n){var a=r.updateSubscribe;a(i,[])}else{var t=r.unsubscribe;t()}}),n||(e.length=0)}(function(e){var i=v&&v.__extends||function(){var p=function(d,f){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(s[g]=c[g])},p(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");p(d,f);function s(){this.constructor=d}d.prototype=f===null?Object.create(f):(s.prototype=f.prototype,new s)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(p){for(var d,f=1,s=arguments.length;f<s;f++){d=arguments[f];for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(p[c]=d[c])}return p},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.Button=e.isValidButtonProps=e.update=e.clickButton=e.Style=e.Icon=e.Action=void 0;var r=F,a=V,t=$,u;(function(p){p.CLICK="CLICK",p.UPDATE="UPDATE"})(u=e.Action||(e.Action={})),function(p){p.Print="print"}(e.Icon||(e.Icon={})),function(p){p.Danger="danger"}(e.Style||(e.Style={}));function h(p,d,f){var s=d.id,c=r.getEventNameSpace(p,u.CLICK,d),g={id:s,payload:f};return r.actionWrapper({type:c,group:p,payload:g})}e.clickButton=h;function A(p,d,f){var s=d.id,c=f.label,g=r.getEventNameSpace(p,u.UPDATE,d),y=n(n({},f),{id:s,label:c});return r.actionWrapper({type:g,group:p,payload:y})}e.update=A;function o(p){return typeof p.id=="string"&&typeof p.label=="string"}e.isValidButtonProps=o;var l=function(p){i(d,p);function d(f,s){var c=p.call(this,f,t.ComponentType.Button,t.Group.Button)||this;return c.disabled=!1,c.loading=!1,c.plain=!1,c.set(s,!1),c}return Object.defineProperty(d.prototype,"options",{get:function(){return{disabled:this.disabled,icon:this.icon,label:this.label,style:this.style,loading:this.loading,plain:this.plain}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"payload",{get:function(){return n(n({},this.options),{id:this.id})},enumerable:!1,configurable:!0}),d.prototype.set=function(f,s){s===void 0&&(s=!0);var c=r.getMergedProps(this.options,f),g=c.label,y=c.disabled,b=c.icon,P=c.style,m=c.loading,M=c.plain;return this.label=g,this.disabled=!!y,this.icon=b,this.style=P,this.loading=!!m,this.plain=!!M,s&&this.dispatch(u.UPDATE),this},d.prototype.dispatch=function(f,s){switch(f){case u.CLICK:this.app.dispatch(h(this.group,this.component,s));break;case u.UPDATE:{var c=A(this.group,this.component,this.payload);this.app.dispatch(c);break}}return this},d}(a.ActionSet);e.Button=l;function _(p,d){return new l(p,d)}e.create=_})(Pe);Object.defineProperty(Te,"__esModule",{value:!0});Te.getSingleButton=void 0;var ji=Pe;function Li(e,i,n,r){return e.addChild(i,e.group,n),e.subscribeToChild(i,ji.Action.UPDATE,r),i.payload}Te.getSingleButton=Li;(function(e){var i=v&&v.__extends||function(){var S=function(O,C){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,T){E.__proto__=T}||function(E,T){for(var w in T)Object.prototype.hasOwnProperty.call(T,w)&&(E[w]=T[w])},S(O,C)};return function(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");S(O,C);function E(){this.constructor=O}O.prototype=C===null?Object.create(C):(E.prototype=C.prototype,new E)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(S){for(var O,C=1,E=arguments.length;C<E;C++){O=arguments[C];for(var T in O)Object.prototype.hasOwnProperty.call(O,T)&&(S[T]=O[T])}return S},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.ModalIframe=e.ModalMessage=e.Modal=e.isMessageModal=e.isIframeModal=e.data=e.update=e.clickFooterButton=e.updateModalSize=e.closeModal=e.openModal=e.Size=e.Action=void 0;var r=Te,a=F,t=V,u=$,h=Pe,A;(function(S){S.OPEN="APP::MODAL::OPEN",S.CLOSE="APP::MODAL::CLOSE",S.UPDATE="APP::MODAL::UPDATE",S.UPDATE_CONTENT="APP::MODAL::CONTENT::UPDATE",S.FOOTER_BUTTON_CLICK="APP::MODAL::FOOTER::BUTTON::CLICK",S.FOOTER_BUTTON_UPDATE="APP::MODAL::FOOTER::BUTTON::UPDATE",S.UPDATE_SIZE="APP::MODAL::UPDATE_SIZE",S.DATA="APP::MODAL::DATA"})(A=e.Action||(e.Action={}));var o;(function(S){S.Small="small",S.Medium="medium",S.Large="large",S.Full="full",S.Auto="auto"})(o=e.Size||(e.Size={}));var l={group:u.Group.Modal,subgroups:["Footer"],type:u.ComponentType.Button};function _(S){return a.actionWrapper({group:u.Group.Modal,payload:S,type:A.OPEN})}e.openModal=_;function p(S){return a.actionWrapper({group:u.Group.Modal,payload:S,type:A.CLOSE})}e.closeModal=p;function d(S){return a.actionWrapper({group:u.Group.Modal,payload:S,type:A.UPDATE_SIZE})}e.updateModalSize=d;function f(S,O){var C=n({id:S},l);return h.clickButton(u.Group.Modal,C,O)}e.clickFooterButton=f;function s(S){return a.actionWrapper({payload:S,group:u.Group.Modal,type:A.UPDATE})}e.update=s;function c(S){return a.actionWrapper({payload:S,group:u.Group.Modal,type:A.DATA})}e.data=c;function g(S){return typeof S.url=="string"||typeof S.path=="string"}e.isIframeModal=g;function y(S){return typeof S.message=="string"}e.isMessageModal=y;var b=function(S){i(O,S);function O(){var C=S!==null&&S.apply(this,arguments)||this;return C.size=o.Small,C}return Object.defineProperty(O.prototype,"footer",{get:function(){if(!(!this.footerPrimary&&!this.footerSecondary))return{buttons:{primary:this.footerPrimary,secondary:this.footerSecondary}}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"footerOptions",{get:function(){if(!(!this.footerPrimaryOptions&&!this.footerSecondaryOptions))return{buttons:{primary:this.footerPrimaryOptions,secondary:this.footerSecondaryOptions}}},enumerable:!1,configurable:!0}),O.prototype.close=function(){this.app.dispatch(p({id:this.id}))},O.prototype.setFooterPrimaryButton=function(C,E){var T=this,w=l.subgroups;this.footerPrimaryOptions=this.getChildButton(C,this.footerPrimaryOptions),this.footerPrimary=this.footerPrimaryOptions?r.getSingleButton(this,this.footerPrimaryOptions,w,function(N){T.updatePrimaryFooterButton(N,E)}):void 0},O.prototype.setFooterSecondaryButtons=function(C,E){var T=this,w=l.subgroups,N=C||[],L=this.footerOptions&&this.footerOptions.buttons.secondary||[];this.footerSecondaryOptions=this.getUpdatedChildActions(N,L),this.footerSecondary=this.footerSecondaryOptions?this.footerSecondaryOptions.map(function(k){return r.getSingleButton(T,k,w,function(X){T.updateSecondaryFooterButton(X,E)})}):void 0},O.prototype.getChildButton=function(C,E){var T=C?[C]:[],w=E?[E]:[],N=this.getUpdatedChildActions(T,w);return N?N[0]:void 0},O.prototype.updatePrimaryFooterButton=function(C,E){!this.footer||!this.footer.buttons.primary||a.updateActionFromPayload(this.footer.buttons.primary,C)&&E()},O.prototype.updateSecondaryFooterButton=function(C,E){if(!(!this.footer||!this.footer.buttons||!this.footer.buttons.secondary)){for(var T,w=0,N=this.footer.buttons.secondary;w<N.length;w++){var L=N[w];if(T=a.updateActionFromPayload(L,C),T)break}T&&E()}},O}(t.ActionSetWithChildren);e.Modal=b;var P=function(S){i(O,S);function O(C,E){var T=S.call(this,C,u.Group.Modal,u.Group.Modal)||this;return T.set(E,!1),T}return Object.defineProperty(O.prototype,"payload",{get:function(){return n(n({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"options",{get:function(){return{footer:this.footerOptions,message:this.message,size:this.size,title:this.title}},enumerable:!1,configurable:!0}),O.prototype.set=function(C,E){var T=this;E===void 0&&(E=!0);var w=a.getMergedProps(this.options,C),N=w.title,L=w.footer,k=w.message,X=w.size;return this.title=N,this.message=k,this.size=X,this.setFooterPrimaryButton(L?L.buttons.primary:void 0,function(){T.dispatch(A.UPDATE)}),this.setFooterSecondaryButtons(L?L.buttons.secondary:void 0,function(){T.dispatch(A.UPDATE)}),E&&this.dispatch(A.UPDATE),this},O.prototype.dispatch=function(C){switch(C){case A.OPEN:this.app.dispatch(_(this.payload));break;case A.CLOSE:this.close();break;case A.UPDATE:this.app.dispatch(s(this.payload));break}return this},O}(b);e.ModalMessage=P;var m=function(S){i(O,S);function O(C,E){var T=S.call(this,C,u.Group.Modal,u.Group.Modal)||this;return T.set(E,!1),T}return Object.defineProperty(O.prototype,"payload",{get:function(){return n(n({},this.options),{footer:this.footer,id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"options",{get:function(){return{footer:this.footerOptions,path:this.path,size:this.size,title:this.title,url:this.url,loading:this.loading}},enumerable:!1,configurable:!0}),O.prototype.set=function(C,E){var T=this;E===void 0&&(E=!0);var w=a.getMergedProps(this.options,C),N=w.title,L=w.footer,k=w.path,X=w.url,re=w.size,ne=w.loading;return this.title=N,this.url=X,this.path=k,this.size=re,this.loading=ne,this.setFooterPrimaryButton(L?L.buttons.primary:void 0,function(){T.dispatch(A.UPDATE)}),this.setFooterSecondaryButtons(L?L.buttons.secondary:void 0,function(){T.dispatch(A.UPDATE)}),E&&this.dispatch(A.UPDATE),this},O.prototype.dispatch=function(C,E){switch(C){case A.OPEN:this.app.dispatch(_(this.payload));break;case A.CLOSE:this.close();break;case A.UPDATE:this.app.dispatch(s(this.payload));break;case A.DATA:this.app.dispatch(c(E||{}));break}return this},O}(b);e.ModalIframe=m;var M=function(S,O){return g(O)?new m(S,O):new P(S,O)};e.create=M})(Ue);var $e={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.isAppMessage=ie.isPermitted=ie.getPermissionKey=ie.isFromApp=ie.isPerformanceOrWebVitalsAction=ie.isAppBridgeAction=void 0;var Bi=Fe,st=me,Ui=F;function Fi(e){return e instanceof Object&&Object.prototype.hasOwnProperty.call(e,"type")&&e.type.toString().startsWith(st.PREFIX)}ie.isAppBridgeAction=Fi;function $i(e){var i=e.type;return i.match(/^APP::(PERFORMANCE|WEB_VITALS)::/)}ie.isPerformanceOrWebVitalsAction=$i;function Gi(e){return typeof e!="object"||typeof e.source!="object"?!1:typeof e.source.apiKey=="string"}ie.isFromApp=Gi;function sr(e){return e.replace(new RegExp("^"+st.PREFIX+st.SEPARATOR+"\\w+"+st.SEPARATOR),"")}ie.getPermissionKey=sr;function ki(e,i,n){var r=i.group,a=i.type;if(!r||!Object.prototype.hasOwnProperty.call(e,r))return!1;var t=e[r];if(!t)return!1;var u=sr(a);return t[u]?t[u][n]===!0:!1}ie.isPermitted=ki;function Wi(e){if(typeof e!="object"||!e.data||typeof e.data!="object")return!1;var i=e.data;return Object.prototype.hasOwnProperty.call(i,"type")&&Ui.findMatchInEnum(Bi.MessageType,i.type)!==void 0}ie.isAppMessage=Wi;var Ge={};(function(e){var i,n;Object.defineProperty(e,"__esModule",{value:!0}),e.isUnframed=e.isDevelopmentClient=e.isProduction=e.isDevelopment=e.isClient=e.isServer=void 0,e.isServer=typeof window>"u",e.isClient=!e.isServer,e.isDevelopment=typeof process<"u"&&process.env&&!1,e.isProduction=!e.isDevelopment,e.isDevelopmentClient=e.isDevelopment&&e.isClient,e.isUnframed=e.isClient&&((n=(i=window.navigator)===null||i===void 0?void 0:i.userAgent)===null||n===void 0?void 0:n.indexOf("Unframed"))>0})(Ge);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createTransportListener=e.fromWindow=e.fromFrame=e.Context=void 0;var i=ve,n=ie,r=Fe,a=be,t=Ge;(function(l){l.Modal="Modal",l.Main="Main"})(e.Context||(e.Context={}));function u(l,_,p){var d=[],f=l.host,s=l.window;if(!f)throw i.fromAction("App frame is undefined",i.AppActionType.WINDOW_UNDEFINED);return t.isUnframed&&window.MobileWebView&&Object.assign(window.MobileWebView,{postMessageToIframe:function(c,g){s==null||s.postMessage(c,g),o(c)&&f.postMessage(JSON.stringify(c.payload),location.origin)},updateIframeUrl:function(c){var g=window.location,y=(l.window||{}).location;try{var b=new URL(c).origin;b===_&&y?y.replace(c):g.href=c}catch{}}}),f.addEventListener("message",function(c){if(!(c.source===f||!n.isAppMessage(c))){if(c.origin!==_){var g="Message origin '"+c.origin+"' does not match app origin '"+_+"'.",y=i.invalidOriginAction(g),b={type:"dispatch",payload:y};s==null||s.postMessage(b,c.origin);return}if(t.isUnframed&&window.MobileWebView){var y=JSON.stringify({id:"unframed://fromClient",origin:_,data:c.data});window.MobileWebView.postMessage(y);return}for(var P=0,m=d;P<m.length;P++){var M=m[P];M(c)}}}),{context:p,localOrigin:_,frameWindow:s,hostFrame:f,dispatch:function(c){s==null||s.postMessage(c,_)},subscribe:function(c){return a.addAndRemoveFromCollection(d,c)}}}e.fromFrame=u;function h(l,_){var p=[];return typeof window!==void 0&&window.addEventListener("message",function(d){if(!(window===l&&!t.isUnframed||d.source!==l||!(n.isAppBridgeAction(d.data.payload)||n.isAppMessage(d))))for(var f=0,s=p;f<s.length;f++){var c=s[f];c(d)}}),{localOrigin:_,hostFrame:l,dispatch:function(d){var f;if(!((f=d.source)===null||f===void 0)&&f.host){if(t.isUnframed&&window&&window.MobileWebView){var s=JSON.stringify({id:"unframed://fromClient",origin:_,data:d});window.MobileWebView.postMessage(s);return}var c=new URL("https://"+d.source.host).origin;l.postMessage(d,c)}},subscribe:function(d){return a.addAndRemoveFromCollection(p,d)}}}e.fromWindow=h;function A(){var l=[],_={};function p(d){function f(){if(arguments.length<2)return a.addAndRemoveFromCollection(l,{callback:arguments[0]});var s=Array.from(arguments),c=s[0],g=s[1],y=s[2],b={callback:g,id:y},P={type:c,id:y};return Object.prototype.hasOwnProperty.call(_,c)||(_[c]=[]),d&&d(r.MessageType.Subscribe,P),a.addAndRemoveFromCollection(_[c],b,function(){d&&d(r.MessageType.Unsubscribe,P)})}return f}return{createSubscribeHandler:p,handleMessage:function(d){l.forEach(function(f){return f.callback(d)})},handleActionDispatch:function(d){var f=d.type,s=d.payload,c=!1;if(Object.prototype.hasOwnProperty.call(_,f))for(var g=0,y=_[f];g<y.length;g++){var b=y[g],P=b.id,m=b.callback,M=s&&s.id===P;(M||!P)&&(m(s),c=!0)}return c}}}e.createTransportListener=A;function o(l){return l!==null&&typeof l=="object"&&!Array.isArray(l)&&l.type==="dispatch"&&typeof l.payload=="object"}})($e);var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.isShopifyPing=ce.isShopifyPOS=ce.isShopifyMobile=ce.isShopifyEmbedded=ce.isMobile=void 0;var $n=Ge;function Vi(){return fr()||lr()||dr()}ce.isMobile=Vi;function Hi(){return $n.isClient&&window.top!==window.self||$n.isUnframed}ce.isShopifyEmbedded=Hi;function fr(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}ce.isShopifyMobile=fr;function lr(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}ce.isShopifyPOS=lr;function dr(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}ce.isShopifyPing=dr;var zi=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},Ki=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(De,"__esModule",{value:!0});De.createMutationObserver=De.setupModalAutoSizing=void 0;var qi=Ue,Xi=$e,Qi=ce,Vt="app-bridge-utils-modal-auto-size",rt=Yi();function Yi(){if(typeof document>"u")return null;var e=document.createElement("style");return e.type="text/css",e.innerHTML="."+Vt+" { overflow: hidden; height: auto; min-height: auto; }",e}function Ji(e,i){if(!rt)return function(){};var n=document.getElementsByTagName("head")[0],r=document.body.classList;n.appendChild(rt),r.add(Vt);var a=pr(e,i);return function(){r.remove(Vt),n.contains(rt)&&n.removeChild(rt),a&&a.disconnect()}}function Zi(e){return zi(this,void 0,void 0,function(){function i(){r&&(r(),r=void 0)}function n(a){var t=a.context,u=a.modal.id;return Qi.isMobile()||t!==Xi.Context.Modal?(i(),i):(r||(r=Ji(e,u)),i)}var r;return Ki(this,function(a){switch(a.label){case 0:return[4,e.getState().then(n)];case 1:return a.sent(),[2,i]}})})}De.setupModalAutoSizing=Zi;function pr(e,i){if(typeof document>"u")return;var n=-1,r,a={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},t=new MutationObserver(u);t.observe(document,a),h();function u(){r&&window.clearTimeout(r),r=window.setTimeout(h,16)}function h(){var A=document.body.scrollHeight;A!==n&&(n=A,e.dispatch(qi.updateModalSize({id:i,height:String(A)})))}return t}De.createMutationObserver=pr;var vr={},qe={},At={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.respond=e.request=e.Action=void 0;var i=F,n=$,r;(function(u){u.REQUEST="APP::SESSION_TOKEN::REQUEST",u.RESPOND="APP::SESSION_TOKEN::RESPOND"})(r=e.Action||(e.Action={}));function a(){return i.actionWrapper({group:n.Group.SessionToken,type:r.REQUEST})}e.request=a;function t(u){return i.actionWrapper({payload:u,group:n.Group.SessionToken,type:r.RESPOND})}e.respond=t})(At);var xi=v&&v.__createBinding||(Object.create?function(e,i,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return i[n]}})}:function(e,i,n,r){r===void 0&&(r=n),e[r]=i[n]}),ea=v&&v.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),ta=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&xi(i,e,n);return ea(i,e),i},na=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},ra=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(qe,"__esModule",{value:!0});qe.getSessionToken=void 0;var Gn=ta(At),kn=ve;function ia(e){return na(this,void 0,void 0,function(){return ra(this,function(i){return[2,new Promise(function(n,r){var a=e.subscribe(Gn.Action.RESPOND,function(t){var u=t.sessionToken;u?n(u):r(kn.fromAction("Failed to retrieve a session token",kn.Action.FAILED_AUTHENTICATION)),a()});e.dispatch(Gn.request())})]})})}qe.getSessionToken=ia;var gt={},lt=v&&v.__assign||function(){return lt=Object.assign||function(e){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},lt.apply(this,arguments)},aa=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},oa=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(gt,"__esModule",{value:!0});gt.authenticatedFetch=void 0;var ua=qe;function ca(e,i){var n=this;return i===void 0&&(i=fetch),function(r,a){return a===void 0&&(a={}),aa(n,void 0,void 0,function(){var t,u,h;return oa(this,function(A){switch(A.label){case 0:return[4,ua.getSessionToken(e)];case 1:return t=A.sent(),u=new Headers(a.headers),u.append("Authorization","Bearer "+t),u.append("X-Requested-With","XMLHttpRequest"),h={},u.forEach(function(o,l){h[l]=o}),[2,i(r,lt(lt({},a),{headers:h}))]}})})}}gt.authenticatedFetch=ca;(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(qe,e),n(gt,e)})(vr);var hr={},Xe={},bt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.respond=e.request=e.Action=void 0;var i=F,n=$,r;(function(u){u.REQUEST="APP::AUTH_CODE::REQUEST",u.RESPOND="APP::AUTH_CODE::RESPOND"})(r=e.Action||(e.Action={}));function a(u){return i.actionWrapper({group:n.Group.AuthCode,type:r.REQUEST,payload:{id:u}})}e.request=a;function t(u){return i.actionWrapper({payload:u,group:n.Group.AuthCode,type:r.RESPOND})}e.respond=t})(bt);var sa=v&&v.__createBinding||(Object.create?function(e,i,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return i[n]}})}:function(e,i,n,r){r===void 0&&(r=n),e[r]=i[n]}),fa=v&&v.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),la=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&sa(i,e,n);return fa(i,e),i},da=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},pa=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},va=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.getAuthorizationCodePayload=void 0;var Wn=la(bt),Vn=ve,ha=va(Ce);function _a(e){return da(this,void 0,void 0,function(){return pa(this,function(i){return[2,new Promise(function(n,r){var a=ha.default(),t=e.subscribe(Wn.Action.RESPOND,function(u){switch(u==null?void 0:u.status){case"needsExchange":n(u);break;default:r(Vn.fromAction("Failed to retrieve an authorization code",Vn.Action.FAILED_AUTHENTICATION))}t()},a);e.dispatch(Wn.request(a))})]})})}Xe.getAuthorizationCodePayload=_a;var Pt={},ya=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},Aa=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.userAuthorizedFetch=void 0;var ga=Xe,ba="auth/shopify/callback";function Pa(e){var i=e.headers.get("X-Shopify-API-Request-Failure-Unauthorized");return i?i.toLowerCase()==="true":!1}function Oa(e){var i=this,n=e.app,r=e.callbackUri,a=r===void 0?ba:r,t=e.isAuthorizationCodeRequired,u=t===void 0?Pa:t,h=e.fetchOperation;return function(A,o){return ya(i,void 0,void 0,function(){var l,_,p,d,f,s,c,g;return Aa(this,function(y){switch(y.label){case 0:return[4,h(A,o)];case 1:return l=y.sent(),u(l)?[4,ga.getAuthorizationCodePayload(n)]:[2,l];case 2:return _=y.sent(),p=_.code,d=_.hmac,f=_.shop,s=_.timestamp,c=encodeURI("https://"+window.location.hostname+"/"+a+"?code="+p+"&hmac="+d+"&shop="+f+"&timestamp="+s),[4,h(c,{})];case 3:if(g=y.sent(),!g.ok)throw new Error("Failed to authorize request.");return[2,h(A,o)]}})})}}Pt.userAuthorizedFetch=Oa;(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(Xe,e),n(Pt,e)})(hr);(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(De,e),n(ce,e),n(vr,e),n(hr,e)})(rr);(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(rr,e)})(ci);var Ea={},pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.AppBridgeContext=void 0;var ma=K;pe.AppBridgeContext=ma.createContext(null);var x={};Object.defineProperty(x,"__esModule",{value:!0});x.useAppBridge=void 0;var Sa=K,Ta=pe;function Ca(){var e=Sa.useContext(Ta.AppBridgeContext);if(!e)throw new Error("No AppBridge context provided. Your component must be wrapped in the <Provider> component from App Bridge React.");return e}x.useAppBridge=Ca;var _r={},Zt={},xt={},en={},tn={},Ot={},Ma=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},wa=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.useAppBridgeState=void 0;var We=K,Ra=x,Ia=function(e){var i=Ra.useAppBridge(),n=We.useState(),r=n[0],a=n[1],t=We.useRef(!1),u=We.useCallback(function(){return Ma(void 0,void 0,void 0,function(){var h,A;return wa(this,function(o){switch(o.label){case 0:return e?[4,i.getState(e)]:[3,2];case 1:return A=o.sent(),[3,4];case 2:return[4,i.getState()];case 3:A=o.sent(),o.label=4;case 4:return h=A,t.current?[2]:(a(function(l){return JSON.stringify(h)===JSON.stringify(l)?l:h}),[2])}})})},[i,e]);return We.useEffect(function(){return u(),i.subscribe(function(){u()})},[i,u]),We.useEffect(function(){return function(){t.current=!0}},[i]),r};Ot.useAppBridgeState=Ia;(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ot,e)})(tn);var yr={},Et={},Ar={},je={},ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.isShopifyPing=ue.isShopifyPOS=ue.isShopifyMobile=ue.isShopifyEmbedded=ue.isMobile=void 0;var Hn=Ge;function Na(){return gr()||br()||Pr()}ue.isMobile=Na;function Da(){return Hn.isClient&&window.top!==window.self||Hn.isUnframed}ue.isShopifyEmbedded=Da;function gr(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}ue.isShopifyMobile=gr;function br(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}ue.isShopifyPOS=br;function Pr(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}ue.isShopifyPing=Pr;var ja=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},La=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(je,"__esModule",{value:!0});je.createMutationObserver=je.setupModalAutoSizing=void 0;var Ba=Ue,Ua=$e,Fa=ue,Ht="app-bridge-utils-modal-auto-size",it=$a();function $a(){if(typeof document>"u")return null;var e=document.createElement("style");return e.type="text/css",e.innerHTML="."+Ht+" { overflow: hidden; height: auto; min-height: auto; }",e}function Ga(e,i){if(!it)return function(){};var n=document.getElementsByTagName("head")[0],r=document.body.classList;n.appendChild(it),r.add(Ht);var a=Or(e,i);return function(){r.remove(Ht),n.contains(it)&&n.removeChild(it),a&&a.disconnect()}}function ka(e){return ja(this,void 0,void 0,function(){function i(){r&&(r(),r=void 0)}function n(a){var t=a.context,u=a.modal.id;return Fa.isMobile()||t!==Ua.Context.Modal?(i(),i):(r||(r=Ga(e,u)),i)}var r;return La(this,function(a){switch(a.label){case 0:return[4,e.getState().then(n)];case 1:return a.sent(),[2,i]}})})}je.setupModalAutoSizing=ka;function Or(e,i){if(typeof document>"u")return;var n=-1,r,a={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},t=new MutationObserver(u);t.observe(document,a),h();function u(){r&&window.clearTimeout(r),r=window.setTimeout(h,16)}function h(){var A=document.body.scrollHeight;A!==n&&(n=A,e.dispatch(Ba.updateModalSize({id:i,height:String(A)})))}return t}je.createMutationObserver=Or;var Er={},Qe={},Wa=v&&v.__createBinding||(Object.create?function(e,i,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return i[n]}})}:function(e,i,n,r){r===void 0&&(r=n),e[r]=i[n]}),Va=v&&v.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),Ha=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Wa(i,e,n);return Va(i,e),i},za=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},Ka=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getSessionToken=void 0;var zn=Ha(At),Kn=ve;function qa(e){return za(this,void 0,void 0,function(){return Ka(this,function(i){return[2,new Promise(function(n,r){var a=e.subscribe(zn.Action.RESPOND,function(t){var u=t.sessionToken;u?n(u):r(Kn.fromAction("Failed to retrieve a session token",Kn.Action.FAILED_AUTHENTICATION)),a()});e.dispatch(zn.request())})]})})}Qe.getSessionToken=qa;var mt={},Oe={},ke={};(function(e){var i=v&&v.__extends||function(){var f=function(s,c){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(g[b]=y[b])},f(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");f(s,c);function g(){this.constructor=s}s.prototype=c===null?Object.create(c):(g.prototype=c.prototype,new g)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(f){for(var s,c=1,g=arguments.length;c<g;c++){s=arguments[c];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(f[y]=s[y])}return f},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.ButtonGroup=e.isGroupedButtonPayload=e.isGroupedButton=e.update=e.Action=void 0;var r=Te,a=F,t=V,u=$,h;(function(f){f.UPDATE="UPDATE"})(h=e.Action||(e.Action={}));function A(f,s,c){return d(f,s,h.UPDATE,c)}e.update=A;function o(f){var s=f;return s.buttons&&s.buttons.length>0&&s.label!==void 0}e.isGroupedButton=o;function l(f){var s=f;return Array.isArray(s.buttons)&&typeof s.id=="string"&&typeof s.label=="string"}e.isGroupedButtonPayload=l;var _=function(f){i(s,f);function s(c,g){var y=f.call(this,c,u.ComponentType.ButtonGroup,u.Group.ButtonGroup)||this;return y.disabled=!1,y.plain=!1,y.buttonsOptions=[],y.buttons=[],y.set(g,!1),y}return Object.defineProperty(s.prototype,"options",{get:function(){return{buttons:this.buttonsOptions,disabled:this.disabled,label:this.label,plain:this.plain}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"payload",{get:function(){return n(n({},this.options),{buttons:this.buttons,id:this.id})},enumerable:!1,configurable:!0}),s.prototype.set=function(c,g){g===void 0&&(g=!0);var y=a.getMergedProps(this.options,c),b=y.label,P=y.disabled,m=y.buttons,M=y.plain;return this.label=b,this.disabled=!!P,this.buttons=this.getButtons(m),this.plain=!!M,g&&this.dispatch(h.UPDATE),this},s.prototype.dispatch=function(c){switch(c){case h.UPDATE:{var g=A(this.group,this.component,this.payload);this.app.dispatch(g);break}}return this},s.prototype.updateButtons=function(c){if(!(!this.buttons||this.buttons.length===0)){for(var g,y=0,b=this.buttons;y<b.length;y++){var P=b[y];if(g=a.updateActionFromPayload(P,c),g)break}g&&this.dispatch(h.UPDATE)}},s.prototype.getSingleButton=function(c){return r.getSingleButton(this,c,this.subgroups,this.updateButtons)},s.prototype.getButtons=function(c){var g=this,y=[];return c?(c.forEach(function(b){var P=r.getSingleButton(g,b,g.subgroups,g.updateButtons);y.push(P)}),this.buttonsOptions=c,y):[]},s}(t.ActionSetWithChildren);e.ButtonGroup=_;function p(f,s){return new _(f,s)}e.create=p;function d(f,s,c,g,y){var b=s.id,P=g.label,m=a.getEventNameSpace(f,c,s),M=n(n({},g),{id:b,label:P,payload:y});return a.actionWrapper({type:m,group:f,payload:M})}})(ke);var mr={};(function(e){var i=v&&v.__extends||function(){var O=function(C,E){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,w){T.__proto__=w}||function(T,w){for(var N in w)Object.prototype.hasOwnProperty.call(w,N)&&(T[N]=w[N])},O(C,E)};return function(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");O(C,E);function T(){this.constructor=C}C.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(O){for(var C,E=1,T=arguments.length;E<T;E++){C=arguments[E];for(var w in C)Object.prototype.hasOwnProperty.call(C,w)&&(O[w]=C[w])}return O},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.Cart=e.setLineItemProperties=e.removeLineItemDiscount=e.setLineItemDiscount=e.removeLineItem=e.updateLineItem=e.addLineItem=e.removeProperties=e.setProperties=e.setDiscount=e.updateCustomerAddress=e.addCustomerAddress=e.setCustomer=e.update=e.fetch=e.Action=void 0;var r=F,a=V,t=$,u;(function(O){O.FETCH="APP::CART::FETCH",O.UPDATE="APP::CART::UPDATE",O.SET_CUSTOMER="APP::CART::SET_CUSTOMER",O.REMOVE_CUSTOMER="APP::CART::REMOVE_CUSTOMER",O.ADD_CUSTOMER_ADDRESS="APP::CART::ADD_CUSTOMER_ADDRESS",O.UPDATE_CUSTOMER_ADDRESS="APP::CART::UPDATE_CUSTOMER_ADDRESS",O.SET_DISCOUNT="APP::CART::SET_DISCOUNT",O.REMOVE_DISCOUNT="APP::CART::REMOVE_DISCOUNT",O.SET_PROPERTIES="APP::CART::SET_PROPERTIES",O.REMOVE_PROPERTIES="APP::CART::REMOVE_PROPERTIES",O.CLEAR="APP::CART::CLEAR",O.ADD_LINE_ITEM="APP::CART::ADD_LINE_ITEM",O.UPDATE_LINE_ITEM="APP::CART::UPDATE_LINE_ITEM",O.REMOVE_LINE_ITEM="APP::CART::REMOVE_LINE_ITEM",O.SET_LINE_ITEM_DISCOUNT="APP::CART::SET_LINE_ITEM_DISCOUNT",O.REMOVE_LINE_ITEM_DISCOUNT="APP::CART::REMOVE_LINE_ITEM_DISCOUNT",O.SET_LINE_ITEM_PROPERTIES="APP::CART::SET_LINE_ITEM_PROPERTIES",O.REMOVE_LINE_ITEM_PROPERTIES="APP::CART::REMOVE_LINE_ITEM_PROPERTIES"})(u=e.Action||(e.Action={}));function h(O,C){return C===void 0&&(C={}),r.actionWrapper({group:t.Group.Cart,type:O,payload:C})}function A(){return h(u.FETCH)}e.fetch=A;function o(O){return h(u.UPDATE,O)}e.update=o;function l(O){return h(u.SET_CUSTOMER,O)}e.setCustomer=l;function _(O){return h(u.ADD_CUSTOMER_ADDRESS,O)}e.addCustomerAddress=_;function p(O){return h(u.UPDATE_CUSTOMER_ADDRESS,O)}e.updateCustomerAddress=p;function d(O){return h(u.SET_DISCOUNT,O)}e.setDiscount=d;function f(O){return h(u.SET_PROPERTIES,O)}e.setProperties=f;function s(O){return h(u.REMOVE_PROPERTIES,O)}e.removeProperties=s;function c(O){return h(u.ADD_LINE_ITEM,O)}e.addLineItem=c;function g(O){return h(u.UPDATE_LINE_ITEM,O)}e.updateLineItem=g;function y(O){return h(u.REMOVE_LINE_ITEM,O)}e.removeLineItem=y;function b(O){return h(u.SET_LINE_ITEM_DISCOUNT,O)}e.setLineItemDiscount=b;function P(O){return h(u.REMOVE_LINE_ITEM_DISCOUNT,O)}e.removeLineItemDiscount=P;function m(O){return h(u.SET_LINE_ITEM_PROPERTIES,O)}e.setLineItemProperties=m;var M=function(O){i(C,O);function C(E,T){return O.call(this,E,t.Group.Cart,t.Group.Cart,T?T.id:void 0)||this}return C.prototype.dispatch=function(E,T){switch(E){case u.FETCH:this.dispatchCartAction(u.FETCH);break;case u.UPDATE:this.dispatchCartAction(u.UPDATE,T);break;case u.SET_CUSTOMER:this.dispatchCartAction(u.SET_CUSTOMER,T);break;case u.REMOVE_CUSTOMER:this.dispatchCartAction(u.REMOVE_CUSTOMER,T);break;case u.ADD_CUSTOMER_ADDRESS:this.dispatchCartAction(u.ADD_CUSTOMER_ADDRESS,T);break;case u.UPDATE_CUSTOMER_ADDRESS:this.dispatchCartAction(u.UPDATE_CUSTOMER_ADDRESS,T);break;case u.SET_DISCOUNT:this.dispatchCartAction(u.SET_DISCOUNT,T);break;case u.REMOVE_DISCOUNT:this.dispatchCartAction(u.REMOVE_DISCOUNT,T);break;case u.SET_PROPERTIES:this.dispatchCartAction(u.SET_PROPERTIES,T);break;case u.REMOVE_PROPERTIES:this.dispatchCartAction(u.REMOVE_PROPERTIES,T);break;case u.CLEAR:this.dispatchCartAction(u.CLEAR,T);break;case u.ADD_LINE_ITEM:this.dispatchCartAction(u.ADD_LINE_ITEM,T);break;case u.UPDATE_LINE_ITEM:this.dispatchCartAction(u.UPDATE_LINE_ITEM,T);break;case u.REMOVE_LINE_ITEM:this.dispatchCartAction(u.REMOVE_LINE_ITEM,T);break;case u.SET_LINE_ITEM_DISCOUNT:this.dispatchCartAction(u.SET_LINE_ITEM_DISCOUNT,T);break;case u.REMOVE_LINE_ITEM_DISCOUNT:this.dispatchCartAction(u.REMOVE_LINE_ITEM_DISCOUNT,T);break;case u.SET_LINE_ITEM_PROPERTIES:this.dispatchCartAction(u.SET_LINE_ITEM_PROPERTIES,T);break;case u.REMOVE_LINE_ITEM_PROPERTIES:this.dispatchCartAction(u.REMOVE_LINE_ITEM_PROPERTIES,T);break}return this},C.prototype.dispatchCartAction=function(E,T){this.app.dispatch(h(E,n(n({},T),{id:this.id})))},C}(a.ActionSet);e.Cart=M;function S(O,C){return new M(O,C)}e.create=S})(mr);var nn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=e.Action=void 0;var i=$,n=F,r;(function(t){t.INITIALIZE="APP::CLIENT::INITIALIZE"})(r=e.Action||(e.Action={}));function a(){return n.actionWrapper({group:i.Group.Client,type:r.INITIALIZE})}e.initialize=a})(nn);var Sr={},Tr={},ze={};(function(e){var i=v&&v.__extends||function(){var p=function(d,f){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(s[g]=c[g])},p(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");p(d,f);function s(){this.constructor=d}d.prototype=f===null?Object.create(f):(s.prototype=f.prototype,new s)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(p){for(var d,f=1,s=arguments.length;f<s;f++){d=arguments[f];for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(p[c]=d[c])}return p},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.Toast=e.primaryAction=e.clear=e.show=e.Action=void 0;var r=F,a=V,t=$,u;(function(p){p.SHOW="APP::TOAST::SHOW",p.CLEAR="APP::TOAST::CLEAR",p.ACTION="APP::TOAST::ACTION"})(u=e.Action||(e.Action={}));function h(p){return r.actionWrapper({group:t.Group.Toast,payload:p,type:u.SHOW})}e.show=h;function A(p){return r.actionWrapper({payload:p,group:t.Group.Toast,type:u.CLEAR})}e.clear=A;function o(p){return r.actionWrapper({payload:p,group:t.Group.Toast,type:u.ACTION})}e.primaryAction=o;var l=function(p){i(d,p);function d(f,s){var c=p.call(this,f,t.Group.Toast,t.Group.Toast)||this;return c.message="",c.duration=5e3,c.set(s),c}return Object.defineProperty(d.prototype,"options",{get:function(){var f;return{duration:this.duration,isError:this.isError,message:this.message,action:!((f=this.action)===null||f===void 0)&&f.content?{content:this.action.content}:void 0}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"payload",{get:function(){return n({id:this.id},this.options)},enumerable:!1,configurable:!0}),d.prototype.set=function(f){var s=r.getMergedProps(this.options,f),c=s.message,g=s.duration,y=s.isError,b=s.action;return this.message=c,this.duration=g,this.isError=y,this.action=b!=null&&b.content?{content:b.content||""}:void 0,this},d.prototype.dispatch=function(f){switch(f){case u.SHOW:{var s=h(this.payload);this.app.dispatch(s);break}case u.CLEAR:this.app.dispatch(A({id:this.id}));break;case u.ACTION:this.app.dispatch(o({id:this.id}));break}return this},d}(a.ActionSet);e.Toast=l;function _(p,d){return new l(p,d)}e.create=_})(ze);(function(e){var i=v&&v.__extends||function(){var u=function(h,A){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var _ in l)Object.prototype.hasOwnProperty.call(l,_)&&(o[_]=l[_])},u(h,A)};return function(h,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");u(h,A);function o(){this.constructor=h}h.prototype=A===null?Object.create(A):(o.prototype=A.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.Flash=e.show=e.clear=void 0;var n=ze,r=ze;Object.defineProperty(e,"clear",{enumerable:!0,get:function(){return r.clear}}),Object.defineProperty(e,"show",{enumerable:!0,get:function(){return r.show}});var a=function(u){i(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h}(n.Toast);e.Flash=a;function t(u,h){return new a(u,h)}e.create=t})(Tr);(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(Tr,e)})(Sr);var rn={},Le={},St={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Action=void 0,function(i){i.UPDATE="APP::FEATURES::UPDATE",i.REQUEST="APP::FEATURES::REQUEST",i.REQUEST_UPDATE="APP::FEATURES::REQUEST::UPDATE"}(e.Action||(e.Action={}))})(St);var Xa=v&&v.__extends||function(){var e=function(i,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])},e(i,n)};return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(i,n);function r(){this.constructor=i}i.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=v&&v.__assign||function(){return dt=Object.assign||function(e){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},dt.apply(this,arguments)};Object.defineProperty(Le,"__esModule",{value:!0});Le.create=Le.Features=void 0;var Qa=F,Ya=V,Bt=$,qn=St,Cr=function(e){Xa(i,e);function i(n,r){return e.call(this,n,Bt.Group.Features,Bt.Group.Features,r?r.id:void 0)||this}return i.prototype.dispatch=function(n,r){switch(n){case qn.Action.REQUEST:this.dispatchFeaturesAction(qn.Action.REQUEST,r);break}return this},i.prototype.dispatchFeaturesAction=function(n,r){this.app.dispatch(Qa.actionWrapper({group:Bt.Group.Features,type:n,payload:dt(dt({},r||{}),{id:this.id})}))},i}(Ya.ActionSet);Le.Features=Cr;function Ja(e,i){return new Cr(e,i)}Le.create=Ja;(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(Le,e),n(St,e)})(rn);var Mr={};(function(e){var i=v&&v.__extends||function(){var _=function(p,d){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,s){f.__proto__=s}||function(f,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(f[c]=s[c])},_(p,d)};return function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");_(p,d);function f(){this.constructor=p}p.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(_){for(var p,d=1,f=arguments.length;d<f;d++){p=arguments[d];for(var s in p)Object.prototype.hasOwnProperty.call(p,s)&&(_[s]=p[s])}return _},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.FeedbackModal=e.close=e.open=e.Action=void 0;var r=F,a=V,t=$,u;(function(_){_.OPEN="APP::FEEDBACK_MODAL::OPEN",_.CLOSE="APP::FEEDBACK_MODAL::CLOSE"})(u=e.Action||(e.Action={}));function h(_){return r.actionWrapper({group:t.Group.FeedbackModal,payload:_,type:u.OPEN})}e.open=h;function A(_){return r.actionWrapper({group:t.Group.FeedbackModal,payload:_,type:u.CLOSE})}e.close=A;var o=function(_){i(p,_);function p(d,f){var s=_.call(this,d,t.Group.FeedbackModal,t.Group.FeedbackModal)||this;return s.options=f,s.set(f),s}return Object.defineProperty(p.prototype,"payload",{get:function(){return n({id:this.id},this.options)},enumerable:!1,configurable:!0}),p.prototype.set=function(d){return this.options=r.getMergedProps(this.options,d),this},p.prototype.dispatch=function(d){switch(d){case u.OPEN:{var f=h(this.payload);this.app.dispatch(f);break}case u.CLOSE:{var s=A(this.payload);this.app.dispatch(s);break}}return this},p}(a.ActionSet);e.FeedbackModal=o;function l(_,p){return new o(_,p)}e.create=l})(Mr);var wr={};(function(e){var i=v&&v.__extends||function(){var l=function(_,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var s in f)Object.prototype.hasOwnProperty.call(f,s)&&(d[s]=f[s])},l(_,p)};return function(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(_,p);function d(){this.constructor=_}_.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.Fullscreen=e.exit=e.enter=e.Action=void 0;var n=F,r=V,a=$,t;(function(l){l.ENTER="APP::FULLSCREEN::ENTER",l.EXIT="APP::FULLSCREEN::EXIT"})(t=e.Action||(e.Action={}));function u(){return n.actionWrapper({group:a.Group.Fullscreen,type:t.ENTER})}e.enter=u;function h(){return n.actionWrapper({group:a.Group.Fullscreen,type:t.EXIT})}e.exit=h;var A=function(l){i(_,l);function _(p){return l.call(this,p,a.Group.Fullscreen,a.Group.Fullscreen)||this}return Object.defineProperty(_.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),_.prototype.dispatch=function(p){return this.app.dispatch(n.actionWrapper({group:this.group,type:p,payload:this.payload})),this},_}(r.ActionSet);e.Fullscreen=A;function o(l){return new A(l)}e.create=o})(wr);var Rr={};(function(e){var i=v&&v.__extends||function(){var p=function(d,f){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(s[g]=c[g])},p(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");p(d,f);function s(){this.constructor=d}d.prototype=f===null?Object.create(f):(s.prototype=f.prototype,new s)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(p){for(var d,f=1,s=arguments.length;f<s;f++){d=arguments[f];for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(p[c]=d[c])}return p},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.LeaveConfirmation=e.confirm=e.disable=e.enable=e.Action=void 0;var r=F,a=V,t=$,u;(function(p){p.ENABLE="APP::LEAVE_CONFIRMATION::ENABLE",p.DISABLE="APP::LEAVE_CONFIRMATION::DISABLE",p.CONFIRM="APP::LEAVE_CONFIRMATION::CONFIRM"})(u=e.Action||(e.Action={}));function h(p){return p===void 0&&(p={}),r.actionWrapper({group:t.Group.LeaveConfirmation,payload:p,type:u.ENABLE})}e.enable=h;function A(p){return p===void 0&&(p={}),r.actionWrapper({group:t.Group.LeaveConfirmation,payload:p,type:u.DISABLE})}e.disable=A;function o(p){return p===void 0&&(p={}),r.actionWrapper({group:t.Group.LeaveConfirmation,payload:p,type:u.CONFIRM})}e.confirm=o;var l=function(p){i(d,p);function d(f,s){s===void 0&&(s={});var c=p.call(this,f,t.Group.LeaveConfirmation,t.Group.LeaveConfirmation)||this;return c.options=s,c.set(s),c}return Object.defineProperty(d.prototype,"payload",{get:function(){return n({id:this.id},this.options)},enumerable:!1,configurable:!0}),d.prototype.set=function(f){return this.options=r.getMergedProps(this.options,f),this},d.prototype.dispatch=function(f){switch(f){case u.ENABLE:{var s=h(this.payload);this.app.dispatch(s);break}case u.DISABLE:{var c=A(this.payload);this.app.dispatch(c);break}case u.CONFIRM:{var g=o(this.payload);this.app.dispatch(g);break}}return this},d}(a.ActionSet);e.LeaveConfirmation=l;function _(p,d){return d===void 0&&(d={}),new l(p,d)}e.create=_})(Rr);var Ir={};(function(e){var i=v&&v.__extends||function(){var l=function(_,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var s in f)Object.prototype.hasOwnProperty.call(f,s)&&(d[s]=f[s])},l(_,p)};return function(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(_,p);function d(){this.constructor=_}_.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.Loading=e.stop=e.start=e.Action=void 0;var n=F,r=V,a=$,t;(function(l){l.START="APP::LOADING::START",l.STOP="APP::LOADING::STOP"})(t=e.Action||(e.Action={}));function u(l){return n.actionWrapper({payload:l,group:a.Group.Loading,type:t.START})}e.start=u;function h(l){return n.actionWrapper({payload:l,group:a.Group.Loading,type:t.STOP})}e.stop=h;var A=function(l){i(_,l);function _(p){return l.call(this,p,a.Group.Loading,a.Group.Loading)||this}return Object.defineProperty(_.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),_.prototype.dispatch=function(p){switch(p){case t.START:this.app.dispatch(u(this.payload));break;case t.STOP:this.app.dispatch(h(this.payload));break}return this},_}(r.ActionSet);e.Loading=A;function o(l){return new A(l)}e.create=o})(Ir);var Nr={};(function(e){var i=v&&v.__extends||function(){var p=function(d,f){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(s[g]=c[g])},p(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");p(d,f);function s(){this.constructor=d}d.prototype=f===null?Object.create(f):(s.prototype=f.prototype,new s)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(p){for(var d,f=1,s=arguments.length;f<s;f++){d=arguments[f];for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(p[c]=d[c])}return p},n.apply(this,arguments)},r=v&&v.__awaiter||function(p,d,f,s){function c(g){return g instanceof f?g:new f(function(y){y(g)})}return new(f||(f=Promise))(function(g,y){function b(M){try{m(s.next(M))}catch(S){y(S)}}function P(M){try{m(s.throw(M))}catch(S){y(S)}}function m(M){M.done?g(M.value):c(M.value).then(b,P)}m((s=s.apply(p,d||[])).next())})},a=v&&v.__generator||function(p,d){var f={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},s,c,g,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(m){return function(M){return P([m,M])}}function P(m){if(s)throw new TypeError("Generator is already executing.");for(;f;)try{if(s=1,c&&(g=m[0]&2?c.return:m[0]?c.throw||((g=c.return)&&g.call(c),0):c.next)&&!(g=g.call(c,m[1])).done)return g;switch(c=0,g&&(m=[m[0]&2,g.value]),m[0]){case 0:case 1:g=m;break;case 4:return f.label++,{value:m[1],done:!1};case 5:f.label++,c=m[1],m=[0];continue;case 7:m=f.ops.pop(),f.trys.pop();continue;default:if(g=f.trys,!(g=g.length>0&&g[g.length-1])&&(m[0]===6||m[0]===2)){f=0;continue}if(m[0]===3&&(!g||m[1]>g[0]&&m[1]<g[3])){f.label=m[1];break}if(m[0]===6&&f.label<g[1]){f.label=g[1],g=m;break}if(g&&f.label<g[2]){f.label=g[2],f.ops.push(m);break}g[2]&&f.ops.pop(),f.trys.pop();continue}m=d.call(p,f)}catch(M){m=[6,M],c=0}finally{s=g=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.ModalContent=e.Action=void 0;var t=F,u=V,h=$,A=Ue,o;(function(p){p.LOADING="LOADING",p.LOADED="LOADED"})(o=e.Action||(e.Action={}));var l=function(p){i(d,p);function d(f,s){return p.call(this,f,h.Group.Modal,h.Group.Modal,s?s.id:void 0)||this}return d.prototype.loaded=function(){this.dispatch(o.LOADED)},d.prototype.loading=function(){this.dispatch(o.LOADING)},d.prototype.dispatch=function(f){switch(f){case o.LOADED:this.dispatchModalAction(A.Action.UPDATE_CONTENT,{loading:!1});break;case o.LOADING:this.dispatchModalAction(A.Action.UPDATE_CONTENT,{loading:!0});break}return this},d.prototype.dispatchModalAction=function(f,s){return r(this,void 0,void 0,function(){var c;return a(this,function(g){return c=t.actionWrapper({type:f,group:h.Group.Modal,payload:n({},s)}),this.app.dispatch(c),[2]})})},d}(u.ActionSet);e.ModalContent=l;function _(p,d){return new l(p,d)}e.create=_})(Nr);var Dr={};(function(e){var i=v&&v.__extends||function(){var _=function(p,d){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,s){f.__proto__=s}||function(f,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(f[c]=s[c])},_(p,d)};return function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");_(p,d);function f(){this.constructor=p}p.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(_){for(var p,d=1,f=arguments.length;d<f;d++){p=arguments[d];for(var s in p)Object.prototype.hasOwnProperty.call(p,s)&&(_[s]=p[s])}return _},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.History=e.replace=e.push=e.Action=void 0;var r=F,a=V,t=$,u;(function(_){_.PUSH="APP::NAVIGATION::HISTORY::PUSH",_.REPLACE="APP::NAVIGATION::HISTORY::REPLACE"})(u=e.Action||(e.Action={}));function h(_){return r.actionWrapper({payload:_,group:t.Group.Navigation,type:u.PUSH})}e.push=h;function A(_){return r.actionWrapper({payload:_,group:t.Group.Navigation,type:u.REPLACE})}e.replace=A;var o=function(_){i(p,_);function p(d){return _.call(this,d,"History",t.Group.Navigation)||this}return Object.defineProperty(p.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),p.prototype.dispatch=function(d,f){var s=n(n({},this.payload),{path:f});switch(d){case u.PUSH:this.app.dispatch(h(s));break;case u.REPLACE:this.app.dispatch(A(s));break}return this},p}(a.ActionSet);e.History=o;function l(_){return new o(_)}e.create=l})(Dr);var Ye={};(function(e){var i=v&&v.__extends||function(){var E=function(T,w){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,L){N.__proto__=L}||function(N,L){for(var k in L)Object.prototype.hasOwnProperty.call(L,k)&&(N[k]=L[k])},E(T,w)};return function(T,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");E(T,w);function N(){this.constructor=T}T.prototype=w===null?Object.create(w):(N.prototype=w.prototype,new N)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(E){for(var T,w=1,N=arguments.length;w<N;w++){T=arguments[w];for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&(E[L]=T[L])}return E},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.Redirect=e.isAdminSection=e.isRemotePayload=e.isAdminSectionPayload=e.isAdminPathPayload=e.isAppPayload=e.getRelativePath=e.normalizeUrl=e.getPathWithSearchAndHash=e.toDestination=e.toApp=e.toRemote=e.toAdminSection=e.toAdminPath=e.isProductVariantCreateResourcePayload=e.isProductVariantResourcePayload=e.isCreateResourcePayload=e.isResourcePayload=e.ResourceType=e.Action=void 0;var r=F,a=V,t=$,u;(function(E){E.ADMIN_SECTION="APP::NAVIGATION::REDIRECT::ADMIN::SECTION",E.ADMIN_PATH="APP::NAVIGATION::REDIRECT::ADMIN::PATH",E.REMOTE="APP::NAVIGATION::REDIRECT::REMOTE",E.APP="APP::NAVIGATION::REDIRECT::APP"})(u=e.Action||(e.Action={})),function(E){E.Product="products",E.Collection="collections",E.Order="orders",E.Customer="customers",E.Discount="discounts"}(e.ResourceType||(e.ResourceType={}));function h(E){return typeof E.id=="string"}e.isResourcePayload=h;function A(E){return E.create===!0}e.isCreateResourcePayload=A;function o(E){var T=E;return T.id!==void 0&&T.variant!==void 0}e.isProductVariantResourcePayload=o;function l(E){return o(E)?A(E.variant):!1}e.isProductVariantCreateResourcePayload=l;function _(E){return r.actionWrapper({payload:E,group:t.Group.Navigation,type:u.ADMIN_PATH})}e.toAdminPath=_;function p(E){return r.actionWrapper({payload:E,group:t.Group.Navigation,type:u.ADMIN_SECTION})}e.toAdminSection=p;function d(E){return r.actionWrapper({payload:E,group:t.Group.Navigation,type:u.REMOTE})}e.toRemote=d;function f(E){return r.actionWrapper({payload:E,group:t.Group.Navigation,type:u.APP})}e.toApp=f;function s(E,T,w){switch(E){case u.APP:{var N=b(T)?T:{path:T};return f(n({id:w},N))}case u.ADMIN_PATH:{var L=P(T)?T:{path:T};return _(n({id:w},L))}case u.ADMIN_SECTION:{var k=m(T)?T:{section:T};return p(n({id:w},k))}case u.REMOTE:{var X=M(T)?T:{url:T};return d(n({id:w},X))}}}e.toDestination=s;function c(E){var T=E.pathname,w=E.search,N=E.hash;return""+T+(w||"")+(N||"")}e.getPathWithSearchAndHash=c;function g(E){return E instanceof URL?E.toString():typeof E=="string"?E:y(E)}e.normalizeUrl=g;function y(E){if(typeof E=="string")return E.startsWith("/")?E:c(new URL(E));var T=E.search instanceof URLSearchParams?E.search.toString():E.search;return c(n(n({},E),{search:T}))}e.getRelativePath=y;function b(E){return typeof E=="object"&&Object.prototype.hasOwnProperty.call(E,"path")}e.isAppPayload=b;function P(E){return typeof E=="object"&&Object.prototype.hasOwnProperty.call(E,"path")}e.isAdminPathPayload=P;function m(E){return typeof E=="object"&&typeof E.section=="object"&&Object.prototype.hasOwnProperty.call(E.section,"name")}e.isAdminSectionPayload=m;function M(E){return typeof E=="object"&&Object.prototype.hasOwnProperty.call(E,"url")}e.isRemotePayload=M;function S(E){return typeof E=="object"&&typeof(E==null?void 0:E.name)=="string"}e.isAdminSection=S;var O=function(E){i(T,E);function T(w){return E.call(this,w,"Redirect",t.Group.Navigation)||this}return Object.defineProperty(T.prototype,"payload",{get:function(){return{id:this.id}},enumerable:!1,configurable:!0}),T.prototype.dispatch=function(w,N){var L=s(w,N,this.payload.id);return this.app.dispatch(L),this},T}(a.ActionSet);e.Redirect=O;function C(E){return new O(E)}e.create=C})(Ye);var an={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.app=e.Action=void 0;var i=F,n=$,r;(function(t){t.APP="APP::PRINT::APP"})(r=e.Action||(e.Action={}));function a(){return i.actionWrapper({group:n.Group.Print,type:r.APP})}e.app=a})(an);var on={};(function(e){var i=v&&v.__extends||function(){var c=function(g,y){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,P){b.__proto__=P}||function(b,P){for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(b[m]=P[m])},c(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");c(g,y);function b(){this.constructor=g}g.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(c){for(var g,y=1,b=arguments.length;y<b;y++){g=arguments[y];for(var P in g)Object.prototype.hasOwnProperty.call(g,P)&&(c[P]=g[P])}return c},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.ResourcePicker=e.update=e.close=e.cancel=e.open=e.select=e.ActionVerb=e.ResourceType=e.ProductStatus=e.ProductVariantInventoryManagement=e.ProductVariantInventoryPolicy=e.WeightUnit=e.FulfillmentServiceType=e.CollectionSortOrder=e.Action=void 0;var r=F,a=V,t=$,u;(function(c){c.OPEN="APP::RESOURCE_PICKER::OPEN",c.SELECT="APP::RESOURCE_PICKER::SELECT",c.CLOSE="APP::RESOURCE_PICKER::CLOSE",c.UPDATE="APP::RESOURCE_PICKER::UPDATE",c.CANCEL="APP::RESOURCE_PICKER::CANCEL"})(u=e.Action||(e.Action={})),function(c){c.Manual="MANUAL",c.BestSelling="BEST_SELLING",c.AlphaAsc="ALPHA_ASC",c.AlphaDesc="ALPHA_DESC",c.PriceDesc="PRICE_DESC",c.PriceAsc="PRICE_ASC",c.CreatedDesc="CREATED_DESC",c.Created="CREATED"}(e.CollectionSortOrder||(e.CollectionSortOrder={})),function(c){c.GiftCard="GIFT_CARD",c.Manual="MANUAL",c.ThirdParty="THIRD_PARTY"}(e.FulfillmentServiceType||(e.FulfillmentServiceType={})),function(c){c.Kilograms="KILOGRAMS",c.Grams="GRAMS",c.Pounds="POUNDS",c.Ounces="OUNCES"}(e.WeightUnit||(e.WeightUnit={})),function(c){c.Deny="DENY",c.Continue="CONTINUE"}(e.ProductVariantInventoryPolicy||(e.ProductVariantInventoryPolicy={})),function(c){c.Shopify="SHOPIFY",c.NotManaged="NOT_MANAGED",c.FulfillmentService="FULFILLMENT_SERVICE"}(e.ProductVariantInventoryManagement||(e.ProductVariantInventoryManagement={})),function(c){c.Active="ACTIVE",c.Archived="ARCHIVED",c.Draft="DRAFT"}(e.ProductStatus||(e.ProductStatus={}));var h;(function(c){c.Product="product",c.ProductVariant="variant",c.Collection="collection"})(h=e.ResourceType||(e.ResourceType={}));var A;(function(c){c.Add="add",c.Select="select"})(A=e.ActionVerb||(e.ActionVerb={}));function o(c){return r.actionWrapper({payload:c,group:t.Group.ResourcePicker,type:u.SELECT})}e.select=o;function l(c){return r.actionWrapper({payload:c,group:t.Group.ResourcePicker,type:u.OPEN})}e.open=l;function _(c){return r.actionWrapper({payload:c,group:t.Group.ResourcePicker,type:u.CANCEL})}e.cancel=_;function p(c){return r.actionWrapper({payload:c,group:t.Group.ResourcePicker,type:u.CANCEL})}e.close=p;function d(c){return r.actionWrapper({payload:c,group:t.Group.ResourcePicker,type:u.UPDATE})}e.update=d;var f=function(c){i(g,c);function g(y,b,P){var m=c.call(this,y,t.Group.ResourcePicker,t.Group.ResourcePicker)||this;return m.initialSelectionIds=[],m.selection=[],m.resourceType=P,m.set(b,!1),m}return Object.defineProperty(g.prototype,"payload",{get:function(){return n(n({},this.options),{id:this.id,resourceType:this.resourceType})},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"options",{get:function(){var y={initialQuery:this.initialQuery,selectMultiple:this.selectMultiple,initialSelectionIds:this.initialSelectionIds,showHidden:this.showHidden,actionVerb:this.actionVerb};if(this.resourceType===h.Product){var b=n(n({},y),{showVariants:this.showVariants,showDraft:this.showDraft,showArchived:this.showArchived,showDraftBadge:this.showDraftBadge,showArchivedBadge:this.showArchivedBadge});return b}return y},enumerable:!1,configurable:!0}),g.prototype.set=function(y,b){b===void 0&&(b=!0);var P=r.getMergedProps(this.options,y),m=P.initialQuery,M=P.initialSelectionIds,S=M===void 0?[]:M,O=P.showHidden,C=O===void 0?!0:O,E=P.showVariants,T=E===void 0?!0:E,w=P.showDraft,N=w===void 0?!0:w,L=P.showArchived,k=L===void 0?!0:L,X=P.showDraftBadge,re=X===void 0?!1:X,ne=P.showArchivedBadge,ae=ne===void 0?!1:ne,J=P.selectMultiple,fe=J===void 0?!0:J,W=P.actionVerb,Z=W===void 0?A.Add:W;return this.initialQuery=m,this.initialSelectionIds=S,this.showHidden=C,this.showVariants=T,this.showDraft=N,this.showArchived=k,this.showDraftBadge=re,this.showArchivedBadge=ae,this.selectMultiple=fe,this.actionVerb=Z,b&&this.update(),this},g.prototype.dispatch=function(y,b){return y===u.OPEN?this.open():y===u.UPDATE?this.update():y===u.CLOSE||y===u.CANCEL?this.cancel():y===u.SELECT&&(this.selection=b,this.app.dispatch(o({id:this.id,selection:this.selection}))),this},g.prototype.update=function(){this.app.dispatch(d(this.payload))},g.prototype.open=function(){this.app.dispatch(l(this.payload))},g.prototype.cancel=function(){this.app.dispatch(_({id:this.id}))},g.prototype.close=function(){this.cancel()},g}(a.ActionSet);e.ResourcePicker=f;var s=function(c,g){var y=g.resourceType,b=g.options,P=b===void 0?{}:b;return new f(c,P,y)};e.create=s})(on);var jr={};(function(e){var i=v&&v.__extends||function(){var l=function(_,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var s in f)Object.prototype.hasOwnProperty.call(f,s)&&(d[s]=f[s])},l(_,p)};return function(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(_,p);function d(){this.constructor=_}_.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.capture=e.openCamera=e.create=e.Scanner=e.Action=void 0;var n=F,r=V,a=$,t;(function(l){l.OPEN_CAMERA="APP::SCANNER::OPEN::CAMERA",l.CAPTURE="APP::SCANNER::CAPTURE"})(t=e.Action||(e.Action={}));var u=function(l){i(_,l);function _(p,d){return l.call(this,p,a.Group.Scanner,a.Group.Scanner,d?d.id:void 0)||this}return _.prototype.dispatch=function(p){switch(p){case t.OPEN_CAMERA:this.dispatchScannerAction(t.OPEN_CAMERA);break}return this},_.prototype.dispatchScannerAction=function(p){this.app.dispatch(n.actionWrapper({type:p,group:a.Group.Scanner,payload:{id:this.id}}))},_}(r.ActionSet);e.Scanner=u;function h(l,_){return new u(l,_)}e.create=h;function A(){return n.actionWrapper({group:a.Group.Scanner,type:t.OPEN_CAMERA})}e.openCamera=A;function o(l){return n.actionWrapper({group:a.Group.Scanner,type:t.CAPTURE,payload:l})}e.capture=o})(jr);var un={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.getGroupedButton=void 0;var Za=ke;function xa(e,i,n,r){e.addChild(i,e.group,n);var a=i.id,t=i.label,u=i.disabled,h=i.buttons,A=i.plain;return e.subscribeToChild(i,Za.Action.UPDATE,r),{id:a,label:t,buttons:h,disabled:u,plain:A}}Tt.getGroupedButton=xa;(function(e){var i=v&&v.__extends||function(){var y=function(b,P){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,M){m.__proto__=M}||function(m,M){for(var S in M)Object.prototype.hasOwnProperty.call(M,S)&&(m[S]=M[S])},y(b,P)};return function(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");y(b,P);function m(){this.constructor=b}b.prototype=P===null?Object.create(P):(m.prototype=P.prototype,new m)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(y){for(var b,P=1,m=arguments.length;P<m;P++){b=arguments[P];for(var M in b)Object.prototype.hasOwnProperty.call(b,M)&&(y[M]=b[M])}return y},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.TitleBar=e.update=e.clickBreadcrumb=e.clickActionButton=e.Action=void 0;var r=V,a=Pe,t=ke,u=Tt,h=Te,A=F,o=$,l;(function(y){y.UPDATE="APP::TITLEBAR::UPDATE",y.BUTTON_CLICK="APP::TITLEBAR::BUTTONS::BUTTON::CLICK",y.BUTTON_UPDATE="APP::TITLEBAR::BUTTONS::BUTTON::UPDATE",y.BUTTON_GROUP_UPDATE="APP::TITLEBAR::BUTTONS::BUTTONGROUP::UPDATE",y.BREADCRUMBS_CLICK="APP::TITLEBAR::BREADCRUMBS::BUTTON::CLICK",y.BREADCRUMBS_UPDATE="APP::TITLEBAR::BREADCRUMBS::BUTTON::UPDATE"})(l=e.Action||(e.Action={}));var _={group:o.Group.TitleBar,subgroups:["Buttons"]},p={group:o.Group.TitleBar,subgroups:["Breadcrumbs"],type:o.ComponentType.Button};function d(y,b){var P=o.ComponentType.Button,m=n({id:y,type:P},_);return a.clickButton(o.Group.TitleBar,m,b)}e.clickActionButton=d;function f(y,b){var P=n({id:y},p);return a.clickButton(o.Group.TitleBar,P,b)}e.clickBreadcrumb=f;function s(y){return A.actionWrapper({payload:y,group:o.Group.TitleBar,type:l.UPDATE})}e.update=s;var c=function(y){i(b,y);function b(P,m){var M=y.call(this,P,o.Group.TitleBar,o.Group.TitleBar)||this;return!m.title&&!m.breadcrumbs&&!m.buttons||M.set(m),M}return Object.defineProperty(b.prototype,"buttons",{get:function(){if(!(!this.primary&&!this.secondary))return{primary:this.primary,secondary:this.secondary}},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"buttonsOptions",{get:function(){if(!(!this.primaryOptions&&!this.secondaryOptions))return{primary:this.primaryOptions,secondary:this.secondaryOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"options",{get:function(){return{breadcrumbs:this.breadcrumbsOption,buttons:this.buttonsOptions,title:this.title}},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"payload",{get:function(){return n(n({},this.options),{breadcrumbs:this.breadcrumb,buttons:this.buttons,id:this.id})},enumerable:!1,configurable:!0}),b.prototype.set=function(P,m){m===void 0&&(m=!0);var M=A.getMergedProps(this.options,P),S=M.title,O=M.buttons,C=M.breadcrumbs;return this.title=S,this.setBreadcrumbs(C),this.setPrimaryButton(O?O.primary:void 0),this.setSecondaryButton(O?O.secondary:void 0),m&&this.dispatch(l.UPDATE),this},b.prototype.dispatch=function(P){switch(P){case l.UPDATE:this.app.dispatch(s(this.payload));break}return this},b.prototype.getButton=function(P,m,M){return P instanceof t.ButtonGroup?u.getGroupedButton(this,P,m,M):h.getSingleButton(this,P,m,M)},b.prototype.updatePrimaryButton=function(P){this.primary&&A.updateActionFromPayload(this.primary,P)&&this.dispatch(l.UPDATE)},b.prototype.updateSecondaryButtons=function(P){if(this.secondary){var m=this.secondary.find(function(S){return S.id===P.id});if(m){var M=!1;t.isGroupedButtonPayload(P),M=A.updateActionFromPayload(m,P),M&&this.dispatch(l.UPDATE)}}},b.prototype.updateBreadcrumbButton=function(P){this.breadcrumb&&A.updateActionFromPayload(this.breadcrumb,P)&&this.dispatch(l.UPDATE)},b.prototype.setPrimaryButton=function(P){this.primaryOptions=this.getChildButton(P,this.primaryOptions),this.primary=this.primaryOptions?this.getButton(this.primaryOptions,_.subgroups,this.updatePrimaryButton):void 0},b.prototype.setSecondaryButton=function(P){var m=this,M=P||[],S=this.secondaryOptions||[];this.secondaryOptions=this.getUpdatedChildActions(M,S),this.secondary=this.secondaryOptions?this.secondaryOptions.map(function(O){return m.getButton(O,_.subgroups,m.updateSecondaryButtons)}):void 0},b.prototype.setBreadcrumbs=function(P){this.breadcrumbsOption=this.getChildButton(P,this.breadcrumbsOption),this.breadcrumb=this.breadcrumbsOption?this.getButton(this.breadcrumbsOption,p.subgroups,this.updateBreadcrumbButton):void 0},b.prototype.getChildButton=function(P,m){var M=P?[P]:[],S=m?[m]:[],O=this.getUpdatedChildActions(M,S);return O?O[0]:void 0},b}(r.ActionSetWithChildren);e.TitleBar=c;function g(y,b){return new c(y,b)}e.create=g})(un);var cn={};(function(e){var i=v&&v.__extends||function(){var s=function(c,g){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(y[P]=b[P])},s(c,g)};return function(c,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");s(c,g);function y(){this.constructor=c}c.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(s){for(var c,g=1,y=arguments.length;g<y;g++){c=arguments[g];for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(s[b]=c[b])}return s},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.ContextualSaveBar=e.update=e.discard=e.save=e.hide=e.show=e.Action=void 0;var r=F,a=V,t=$,u;(function(s){s.DISCARD="APP::CONTEXTUAL_SAVE_BAR::DISCARD",s.SAVE="APP::CONTEXTUAL_SAVE_BAR::SAVE",s.SHOW="APP::CONTEXTUAL_SAVE_BAR::SHOW",s.HIDE="APP::CONTEXTUAL_SAVE_BAR::HIDE",s.UPDATE="APP::CONTEXTUAL_SAVE_BAR::UPDATE"})(u=e.Action||(e.Action={}));function h(s,c){return r.actionWrapper({group:t.Group.ContextualSaveBar,type:s,payload:c})}function A(s){return h(u.SHOW,s)}e.show=A;function o(s){return h(u.HIDE,s)}e.hide=o;function l(s){return h(u.SAVE,s)}e.save=l;function _(s){return h(u.DISCARD,s)}e.discard=_;function p(s){return h(u.UPDATE,s)}e.update=p;var d=function(s){i(c,s);function c(g,y){y===void 0&&(y={});var b=s.call(this,g,t.Group.ContextualSaveBar,t.Group.ContextualSaveBar)||this;return b.options=y,b.set(y,!1),b}return Object.defineProperty(c.prototype,"payload",{get:function(){return n({id:this.id},this.options)},enumerable:!1,configurable:!0}),c.prototype.set=function(g,y){y===void 0&&(y=!0);var b=r.getMergedProps(this.options,g);return this.options=b,y&&this.dispatch(u.UPDATE),this},c.prototype.dispatch=function(g){return this.app.dispatch(h(g,this.payload)),this},c}(a.ActionSet);e.ContextualSaveBar=d;function f(s,c){return new d(s,c)}e.create=f})(cn);var Lr={};(function(e){var i=v&&v.__extends||function(){var _=function(p,d){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,s){f.__proto__=s}||function(f,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(f[c]=s[c])},_(p,d)};return function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");_(p,d);function f(){this.constructor=p}p.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(_){for(var p,d=1,f=arguments.length;d<f;d++){p=arguments[d];for(var s in p)Object.prototype.hasOwnProperty.call(p,s)&&(_[s]=p[s])}return _},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.close=e.show=e.create=e.Share=e.Action=void 0;var r=$,a=F,t=V,u;(function(_){_.SHOW="APP::SHARE::SHOW",_.CLOSE="APP::SHARE::CLOSE"})(u=e.Action||(e.Action={}));var h=function(_){i(p,_);function p(d){return _.call(this,d,r.Group.Share,r.Group.Share)||this}return p.prototype.dispatch=function(d,f){switch(d){case u.SHOW:this.dispatchShareAction(u.SHOW,f);break;case u.CLOSE:this.dispatchShareAction(u.CLOSE,f);break;default:throw new Error("Action: "+d+" not supported")}return this},p.prototype.dispatchShareAction=function(d,f){this.app.dispatch(a.actionWrapper({type:d,group:r.Group.Share,payload:n({id:this.id},f)}))},p}(t.ActionSet);e.Share=h;function A(_){return new h(_)}e.create=A;function o(){return a.actionWrapper({group:r.Group.Share,type:u.SHOW})}e.show=o;function l(_){return a.actionWrapper({group:r.Group.Share,type:u.CLOSE,payload:_})}e.close=l})(Lr);var sn={},Je={};(function(e){var i=v&&v.__extends||function(){var _=function(p,d){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,s){f.__proto__=s}||function(f,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(f[c]=s[c])},_(p,d)};return function(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");_(p,d);function f(){this.constructor=p}p.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(_){for(var p,d=1,f=arguments.length;d<f;d++){p=arguments[d];for(var s in p)Object.prototype.hasOwnProperty.call(p,s)&&(_[s]=p[s])}return _},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.AppLink=e.update=e.Action=void 0;var r=F,a=V,t=$,u=Ye,h;(function(_){_.UPDATE="UPDATE"})(h=e.Action||(e.Action={}));function A(_,p,d){var f=p.id,s=d.label,c=d.destination,g=n(n({},d),{id:f,label:s,destination:c});return r.actionWrapper({group:_,type:r.getEventNameSpace(_,h.UPDATE,p),payload:g})}e.update=A;var o=function(_){i(p,_);function p(d,f){var s=_.call(this,d,t.Group.Link,t.Group.Link)||this;return s.label="",s.destination="",s.set(f,!1),s}return Object.defineProperty(p.prototype,"options",{get:function(){var d=this,f=d.label,s=d.destination;return{label:f,destination:s,redirectType:u.Action.APP}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"payload",{get:function(){var d=this.options,f=d.label,s=d.destination,c=d.redirectType,g=s;return{id:this.id,label:f,destination:{path:g},redirectType:c}},enumerable:!1,configurable:!0}),p.prototype.set=function(d,f){f===void 0&&(f=!0);var s=r.getMergedProps(this.options,d),c=s.label,g=s.destination;return this.label=c,this.destination=g,f&&this.dispatch(h.UPDATE),this},p.prototype.dispatch=function(d){switch(d){case h.UPDATE:{var f=A(this.group,this.component,this.payload);this.app.dispatch(f);break}}return this},p}(a.ActionSet);e.AppLink=o;function l(_,p){return new o(_,p)}e.create=l})(Je);(function(e){var i=v&&v.__extends||function(){var p=function(d,f){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(s[g]=c[g])},p(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");p(d,f);function s(){this.constructor=d}d.prototype=f===null?Object.create(f):(s.prototype=f.prototype,new s)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(p){for(var d,f=1,s=arguments.length;f<s;f++){d=arguments[f];for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(p[c]=d[c])}return p},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.NavigationMenu=e.update=e.Action=void 0;var r=Je,a=F,t=V,u=$,h=["Navigation_Menu"],A;(function(p){p.UPDATE="APP::MENU::NAVIGATION_MENU::UPDATE",p.LINK_UPDATE="APP::MENU::NAVIGATION_MENU::LINK::UPDATE"})(A=e.Action||(e.Action={}));function o(p){return a.actionWrapper({payload:p,group:u.Group.Menu,type:A.UPDATE})}e.update=o;var l=function(p){i(d,p);function d(f,s){var c=p.call(this,f,"Navigation_Menu",u.Group.Menu)||this;return c.items=[],c.set(s),c}return Object.defineProperty(d.prototype,"options",{get:function(){return{items:this.itemsOptions,active:this.activeOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"payload",{get:function(){return n(n({},this.options),{active:this.active,items:this.items,id:this.id})},enumerable:!1,configurable:!0}),d.prototype.set=function(f,s){s===void 0&&(s=!0);var c=a.getMergedProps(this.options,f),g=c.items,y=c.active;return this.setItems(g),this.activeOptions=y,this.active=y&&y.id,s&&this.dispatch(A.UPDATE),this},d.prototype.dispatch=function(f){switch(f){case A.UPDATE:this.app.dispatch(o(this.payload));break}return this},d.prototype.updateItem=function(f){if(this.items){var s=this.items.find(function(c){return c.id===f.id});s&&a.updateActionFromPayload(s,f)&&this.dispatch(A.UPDATE)}},d.prototype.setItems=function(f){var s=this,c=f||[],g=this.itemsOptions||[];this.itemsOptions=this.getUpdatedChildActions(c,g),this.items=this.itemsOptions?this.itemsOptions.map(function(y){return s.addChild(y,s.group,h),s.subscribeToChild(y,r.Action.UPDATE,s.updateItem),y.payload}):[]},d}(t.ActionSetWithChildren);e.NavigationMenu=l;function _(p,d){return new l(p,d)}e.create=_})(sn);var Br={};(function(e){var i=v&&v.__extends||function(){var p=function(d,f){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(s[g]=c[g])},p(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");p(d,f);function s(){this.constructor=d}d.prototype=f===null?Object.create(f):(s.prototype=f.prototype,new s)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(p){for(var d,f=1,s=arguments.length;f<s;f++){d=arguments[f];for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(p[c]=d[c])}return p},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.ChannelMenu=e.update=e.Action=void 0;var r=Je,a=F,t=V,u=$,h=["Channel_Menu"],A;(function(p){p.UPDATE="APP::MENU::CHANNEL_MENU::UPDATE",p.LINK_UPDATE="APP::MENU::CHANNEL_MENU::LINK::UPDATE"})(A=e.Action||(e.Action={}));function o(p){return a.actionWrapper({payload:p,group:u.Group.Menu,type:A.UPDATE})}e.update=o;var l=function(p){i(d,p);function d(f,s){var c=p.call(this,f,"Channel_Menu",u.Group.Menu)||this;return c.items=[],c.set(s),c}return Object.defineProperty(d.prototype,"options",{get:function(){return{items:this.itemsOptions,active:this.activeOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"payload",{get:function(){return n(n({},this.options),{active:this.active,items:this.items,id:this.id})},enumerable:!1,configurable:!0}),d.prototype.set=function(f,s){s===void 0&&(s=!0);var c=a.getMergedProps(this.options,f),g=c.items,y=c.active;return this.setItems(g),this.activeOptions=y,this.active=y&&y.id,s&&this.dispatch(A.UPDATE),this},d.prototype.dispatch=function(f){switch(f){case A.UPDATE:this.app.dispatch(o(this.payload));break}return this},d.prototype.updateItem=function(f){if(this.items){var s=this.items.find(function(c){return c.id===f.id});s&&a.updateActionFromPayload(s,f)&&this.dispatch(A.UPDATE)}},d.prototype.setItems=function(f){var s=this,c=f||[],g=this.itemsOptions||[];this.itemsOptions=this.getUpdatedChildActions(c,g),this.items=this.itemsOptions?this.itemsOptions.map(function(y){return s.addChild(y,s.group,h),s.subscribeToChild(y,r.Action.UPDATE,s.updateItem),y.payload}):[]},d}(t.ActionSetWithChildren);e.ChannelMenu=l;function _(p,d){return new l(p,d)}e.create=_})(Br);var Ur={};(function(e){var i=v&&v.__extends||function(){var o=function(l,_){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(p[f]=d[f])},o(l,_)};return function(l,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");o(l,_);function p(){this.constructor=l}l.prototype=_===null?Object.create(_):(p.prototype=_.prototype,new p)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.Pos=e.close=e.Action=void 0;var n=F,r=V,a=$,t;(function(o){o.CLOSE="APP::POS::CLOSE",o.LOCATION_UPDATE="APP::POS::LOCATION::UPDATE",o.USER_UPDATE="APP::POS::USER::UPDATE",o.DEVICE_UPDATE="APP::POS::DEVICE::UPDATE"})(t=e.Action||(e.Action={}));function u(){return n.actionWrapper({group:a.Group.Pos,type:t.CLOSE})}e.close=u;var h=function(o){i(l,o);function l(_){return o.call(this,_,a.Group.Pos,a.Group.Pos)||this}return l.prototype.dispatch=function(_){switch(_){case t.CLOSE:this.app.dispatch(u());break}return this},l}(r.ActionSet);e.Pos=h;function A(o){return new h(o)}e.create=A})(Ur);var Fr={};(function(e){var i=v&&v.__extends||function(){var f=function(s,c){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(g[b]=y[b])},f(s,c)};return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");f(s,c);function g(){this.constructor=s}s.prototype=c===null?Object.create(c):(g.prototype=c.prototype,new g)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(f){for(var s,c=1,g=arguments.length;c<g;c++){s=arguments[c];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(f[y]=s[y])}return f},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.MarketingExternalActivityTopBar=e.update=e.clickActionButton=e.MarketingActivityStatusBadgeType=e.Action=void 0;var r=Pe,a=Te,t=F,u=V,h=$,A;(function(f){f.UPDATE="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::UPDATE",f.BUTTON_CLICK="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::BUTTONS::BUTTON::CLICK",f.BUTTON_UPDATE="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::BUTTONS::BUTTON::UPDATE"})(A=e.Action||(e.Action={})),function(f){f.Default="DEFAULT",f.Success="SUCCESS",f.Attention="ATTENTION",f.Warning="WARNING",f.Info="INFO"}(e.MarketingActivityStatusBadgeType||(e.MarketingActivityStatusBadgeType={}));var o={group:h.Group.MarketingExternalActivityTopBar,subgroups:["Buttons"]};function l(f,s){var c=h.ComponentType.Button,g=n({id:f,type:c},o);return r.clickButton(h.Group.MarketingExternalActivityTopBar,g,s)}e.clickActionButton=l;function _(f){return t.actionWrapper({payload:f,group:h.Group.MarketingExternalActivityTopBar,type:A.UPDATE})}e.update=_;var p=function(f){i(s,f);function s(c,g){var y=f.call(this,c,h.Group.MarketingExternalActivityTopBar,h.Group.MarketingExternalActivityTopBar)||this;return y.set(g),y}return Object.defineProperty(s.prototype,"buttons",{get:function(){if(!(!this.primary&&!this.secondary))return{primary:this.primary,secondary:this.secondary}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"buttonsOptions",{get:function(){if(!(!this.primaryOptions&&!this.secondaryOptions))return{primary:this.primaryOptions,secondary:this.secondaryOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"options",{get:function(){return{title:this.title,status:this.status,saving:this.saving,saved:this.saved,buttons:this.buttonsOptions}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"payload",{get:function(){return n(n({},this.options),{buttons:this.buttons,id:this.id})},enumerable:!1,configurable:!0}),s.prototype.set=function(c,g){g===void 0&&(g=!0);var y=t.getMergedProps(this.options,c),b=y.title,P=y.buttons,m=y.saved,M=y.saving,S=y.status;return this.title=b,this.saving=M,this.saved=m,this.status=S,this.setPrimaryButton(P?P.primary:void 0),this.setSecondaryButtons(P?P.secondary:void 0),g&&this.dispatch(A.UPDATE),this},s.prototype.dispatch=function(c){switch(c){case A.UPDATE:this.app.dispatch(_(this.payload));break}return this},s.prototype.getButton=function(c,g,y){return a.getSingleButton(this,c,g,y)},s.prototype.updatePrimaryButton=function(c){this.primary&&t.updateActionFromPayload(this.primary,c)&&this.dispatch(A.UPDATE)},s.prototype.updateSecondaryButtons=function(c){if(this.secondary){var g=this.secondary.find(function(b){return b.id===c.id});if(g){var y=t.updateActionFromPayload(g,c);y&&this.dispatch(A.UPDATE)}}},s.prototype.setPrimaryButton=function(c){this.primaryOptions=this.getChildButton(c,this.primaryOptions),this.primary=this.primaryOptions?this.getButton(this.primaryOptions,o.subgroups,this.updatePrimaryButton):void 0},s.prototype.setSecondaryButtons=function(c){var g=this,y=c||[],b=this.secondaryOptions||[];this.secondaryOptions=this.getUpdatedChildActions(y,b),this.secondary=this.secondaryOptions?this.secondaryOptions.map(function(P){return g.getButton(P,o.subgroups,g.updateSecondaryButtons)}):void 0},s.prototype.updateSaving=function(c){this.saving=c,this.dispatch(A.UPDATE)},s.prototype.updateSaved=function(c){this.saved=c,this.dispatch(A.UPDATE)},s.prototype.updateStatus=function(c){this.status=c,this.dispatch(A.UPDATE)},s.prototype.getChildButton=function(c,g){var y=c?[c]:[],b=g?[g]:[],P=this.getUpdatedChildActions(y,b);return P?P[0]:void 0},s}(u.ActionSetWithChildren);e.MarketingExternalActivityTopBar=p;function d(f,s){return new p(f,s)}e.create=d})(Fr);var $r={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fullPageLoad=e.skeletonPageLoad=e.Action=void 0;var i=$,n=F,r;(function(u){u.SKELETON_PAGE_LOAD="APP::PERFORMANCE::SKELETON_PAGE_LOAD",u.FULL_PAGE_LOAD="APP::PERFORMANCE::FULL_PAGE_LOAD"})(r=e.Action||(e.Action={}));function a(){return n.actionWrapper({group:i.Group.Performance,type:r.SKELETON_PAGE_LOAD})}e.skeletonPageLoad=a;function t(){return n.actionWrapper({group:i.Group.Performance,type:r.FULL_PAGE_LOAD})}e.fullPageLoad=t})($r);var fn={};(function(e){var i=v&&v.__extends||function(){var s=function(c,g){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(y[P]=b[P])},s(c,g)};return function(c,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");s(c,g);function y(){this.constructor=c}c.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}(),n=v&&v.__assign||function(){return n=Object.assign||function(s){for(var c,g=1,y=arguments.length;g<y;g++){c=arguments[g];for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(s[b]=c[b])}return s},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.unstable_Picker=e.loadMore=e.search=e.update=e.cancel=e.open=e.select=e.ALL_RESOURCE_VERTICAL_ALIGNMENT=e.ALL_MEDIA_KINDS=e.ALL_BADGE_STATUSES=e.ALL_BADGE_PROGRESSES=e.Action=void 0;var r=F,a=V,t=$,u;(function(s){s.OPEN="APP::PICKER::OPEN",s.SELECT="APP::PICKER::SELECT",s.UPDATE="APP::PICKER::UPDATE",s.CANCEL="APP::PICKER::CANCEL",s.SEARCH="APP::PICKER::SEARCH",s.LOAD_MORE="APP::PICKER::LOAD_MORE"})(u=e.Action||(e.Action={})),e.ALL_BADGE_PROGRESSES=["incomplete","partiallyComplete","complete"],e.ALL_BADGE_STATUSES=["success","info","attention","critical","warning","new"],e.ALL_MEDIA_KINDS=["Avatar","Thumbnail"],e.ALL_RESOURCE_VERTICAL_ALIGNMENT=["leading","trailing","center"];function h(s){return r.actionWrapper({payload:s,group:t.Group.unstable_Picker,type:u.SELECT})}e.select=h;function A(s){return r.actionWrapper({payload:s,group:t.Group.unstable_Picker,type:u.OPEN})}e.open=A;function o(s){return r.actionWrapper({payload:s,group:t.Group.unstable_Picker,type:u.CANCEL})}e.cancel=o;function l(s){return r.actionWrapper({payload:s,group:t.Group.unstable_Picker,type:u.UPDATE})}e.update=l;function _(s){return r.actionWrapper({payload:s,group:t.Group.unstable_Picker,type:u.SEARCH})}e.search=_;function p(s){return r.actionWrapper({payload:s,group:t.Group.unstable_Picker,type:u.LOAD_MORE})}e.loadMore=p;var d=function(s){i(c,s);function c(g,y){var b=s.call(this,g,t.Group.unstable_Picker,t.Group.unstable_Picker)||this;return b.items=[],b.selectedItems=[],b.set(y,!1),b}return Object.defineProperty(c.prototype,"payload",{get:function(){return n(n({},this.options),{id:this.id})},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"options",{get:function(){return{items:this.items,maxSelectable:this.maxSelectable,selectedItems:this.selectedItems,title:this.title,loading:this.loading,searchQuery:this.searchQuery,searchQueryPlaceholder:this.searchQueryPlaceholder,primaryActionLabel:this.primaryActionLabel,secondaryActionLabel:this.secondaryActionLabel,emptySearchLabel:this.emptySearchLabel,canLoadMore:this.canLoadMore,loadingMore:this.loadingMore,verticalAlignment:this.verticalAlignment}},enumerable:!1,configurable:!0}),c.prototype.set=function(g,y){y===void 0&&(y=!0);var b=r.getMergedProps(this.options,g),P=b.selectedItems,m=P===void 0?[]:P,M=b.maxSelectable,S=M===void 0?0:M,O=b.items,C=O===void 0?[]:O,E=b.loading,T=E===void 0?!1:E,w=b.title,N=b.searchQuery,L=b.searchQueryPlaceholder,k=b.primaryActionLabel,X=b.secondaryActionLabel,re=b.emptySearchLabel,ne=b.canLoadMore,ae=ne===void 0?!1:ne,J=b.loadingMore,fe=J===void 0?!1:J,W=b.verticalAlignment;return this.title=w,this.items=C,this.selectedItems=m,this.maxSelectable=S,this.loading=T,this.searchQuery=N,this.searchQueryPlaceholder=L,this.primaryActionLabel=k,this.secondaryActionLabel=X,this.emptySearchLabel=re,this.canLoadMore=ae,this.loadingMore=fe,this.verticalAlignment=W,y&&this.update(),this},c.prototype.dispatch=function(g,y){return g===u.OPEN?this.open():g===u.UPDATE?this.update():g===u.CANCEL?this.cancel():g===u.SELECT?(this.selectedItems=(y==null?void 0:y.selectedItems)||[],this.app.dispatch(h({id:this.id,selectedItems:this.selectedItems}))):g===u.SEARCH?(this.searchQuery=(y==null?void 0:y.searchQuery)||"",this.app.dispatch(_({id:this.id,searchQuery:this.searchQuery}))):g===u.LOAD_MORE&&this.loadMore(),this},c.prototype.update=function(){this.app.dispatch(l(this.payload))},c.prototype.open=function(){this.app.dispatch(A(this.payload))},c.prototype.cancel=function(){this.app.dispatch(o({id:this.id}))},c.prototype.loadMore=function(){this.app.dispatch(p(this.payload))},c}(a.ActionSet);e.unstable_Picker=d;var f=function(s,c){return new d(s,c)};e.create=f})(fn);var ln={},Gr={},zt={exports:{}};(function(e,i){(function(n,r){r(i)})(v,function(n){var r,a,t,u,h,A=-1,o=function(I){addEventListener("pageshow",function(R){R.persisted&&(A=R.timeStamp,I(R))},!0)},l=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},_=function(){var I=l();return I&&I.activationStart||0},p=function(I,R){var D=l(),U="navigate";return A>=0?U="back-forward-cache":D&&(U=document.prerendering||_()>0?"prerender":document.wasDiscarded?"restore":D.type.replace(/_/g,"-")),{name:I,value:R===void 0?-1:R,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:U}},d=function(I,R,D){try{if(PerformanceObserver.supportedEntryTypes.includes(I)){var U=new PerformanceObserver(function(B){Promise.resolve().then(function(){R(B.getEntries())})});return U.observe(Object.assign({type:I,buffered:!0},D||{})),U}}catch{}},f=function(I,R,D,U){var B,j;return function(H){R.value>=0&&(H||U)&&((j=R.value-(B||0))||B===void 0)&&(B=R.value,R.delta=j,R.rating=function(ee,Y){return ee>Y[1]?"poor":ee>Y[0]?"needs-improvement":"good"}(R.value,D),I(R))}},s=function(I){requestAnimationFrame(function(){return requestAnimationFrame(function(){return I()})})},c=function(I){var R=function(D){D.type!=="pagehide"&&document.visibilityState!=="hidden"||I(D)};addEventListener("visibilitychange",R,!0),addEventListener("pagehide",R,!0)},g=function(I){var R=!1;return function(D){R||(I(D),R=!0)}},y=-1,b=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},P=function(I){document.visibilityState==="hidden"&&y>-1&&(y=I.type==="visibilitychange"?I.timeStamp:0,M())},m=function(){addEventListener("visibilitychange",P,!0),addEventListener("prerenderingchange",P,!0)},M=function(){removeEventListener("visibilitychange",P,!0),removeEventListener("prerenderingchange",P,!0)},S=function(){return y<0&&(y=b(),m(),o(function(){setTimeout(function(){y=b(),m()},0)})),{get firstHiddenTime(){return y}}},O=function(I){document.prerendering?addEventListener("prerenderingchange",function(){return I()},!0):I()},C=function(I,R){R=R||{},O(function(){var D,U=[1800,3e3],B=S(),j=p("FCP"),H=d("paint",function(ee){ee.forEach(function(Y){Y.name==="first-contentful-paint"&&(H.disconnect(),Y.startTime<B.firstHiddenTime&&(j.value=Math.max(Y.startTime-_(),0),j.entries.push(Y),D(!0)))})});H&&(D=f(I,j,U,R.reportAllChanges),o(function(ee){j=p("FCP"),D=f(I,j,U,R.reportAllChanges),s(function(){j.value=performance.now()-ee.timeStamp,D(!0)})}))})},E=function(I,R){R=R||{},C(g(function(){var D,U=[.1,.25],B=p("CLS",0),j=0,H=[],ee=function(q){q.forEach(function(te){if(!te.hadRecentInput){var Me=H[0],tt=H[H.length-1];j&&te.startTime-tt.startTime<1e3&&te.startTime-Me.startTime<5e3?(j+=te.value,H.push(te)):(j=te.value,H=[te])}}),j>B.value&&(B.value=j,B.entries=H,D())},Y=d("layout-shift",ee);Y&&(D=f(I,B,U,R.reportAllChanges),c(function(){ee(Y.takeRecords()),D(!0)}),o(function(){j=0,B=p("CLS",0),D=f(I,B,U,R.reportAllChanges),s(function(){return D()})}),setTimeout(D,0))}))},T={passive:!0,capture:!0},w=new Date,N=function(I,R){r||(r=R,a=I,t=new Date,X(removeEventListener),L())},L=function(){if(a>=0&&a<t-w){var I={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+a};u.forEach(function(R){R(I)}),u=[]}},k=function(I){if(I.cancelable){var R=(I.timeStamp>1e12?new Date:performance.now())-I.timeStamp;I.type=="pointerdown"?function(D,U){var B=function(){N(D,U),H()},j=function(){H()},H=function(){removeEventListener("pointerup",B,T),removeEventListener("pointercancel",j,T)};addEventListener("pointerup",B,T),addEventListener("pointercancel",j,T)}(R,I):N(R,I)}},X=function(I){["mousedown","keydown","touchstart","pointerdown"].forEach(function(R){return I(R,k,T)})},re=function(I,R){R=R||{},O(function(){var D,U=[100,300],B=S(),j=p("FID"),H=function(q){q.startTime<B.firstHiddenTime&&(j.value=q.processingStart-q.startTime,j.entries.push(q),D(!0))},ee=function(q){q.forEach(H)},Y=d("first-input",ee);D=f(I,j,U,R.reportAllChanges),Y&&c(g(function(){ee(Y.takeRecords()),Y.disconnect()})),Y&&o(function(){var q;j=p("FID"),D=f(I,j,U,R.reportAllChanges),u=[],a=-1,r=null,X(addEventListener),q=H,u.push(q),L()})})},ne=0,ae=1/0,J=0,fe=function(I){I.forEach(function(R){R.interactionId&&(ae=Math.min(ae,R.interactionId),J=Math.max(J,R.interactionId),ne=J?(J-ae)/7+1:0)})},W=function(){return h?ne:performance.interactionCount||0},Z=function(){"interactionCount"in performance||h||(h=d("event",fe,{type:"event",buffered:!0,durationThreshold:0}))},G=0,Q=function(){return W()-G},z=[],oe={},he=function(I){var R=z[z.length-1],D=oe[I.interactionId];if(D||z.length<10||I.duration>R.latency){if(D)D.entries.push(I),D.latency=Math.max(D.latency,I.duration);else{var U={id:I.interactionId,latency:I.duration,entries:[I]};oe[U.id]=U,z.push(U)}z.sort(function(B,j){return j.latency-B.latency}),z.splice(10).forEach(function(B){delete oe[B.id]})}},ye=function(I,R){R=R||{},O(function(){var D=[200,500];Z();var U,B=p("INP"),j=function(ee){ee.forEach(function(te){te.interactionId&&he(te),te.entryType==="first-input"&&!z.some(function(Me){return Me.entries.some(function(tt){return te.duration===tt.duration&&te.startTime===tt.startTime})})&&he(te)});var Y,q=(Y=Math.min(z.length-1,Math.floor(Q()/50)),z[Y]);q&&q.latency!==B.value&&(B.value=q.latency,B.entries=q.entries,U())},H=d("event",j,{durationThreshold:R.durationThreshold||40});U=f(I,B,D,R.reportAllChanges),H&&(H.observe({type:"first-input",buffered:!0}),c(function(){j(H.takeRecords()),B.value<0&&Q()>0&&(B.value=0,B.entries=[]),U(!0)}),o(function(){z=[],G=W(),B=p("INP"),U=f(I,B,D,R.reportAllChanges)}))})},Ee={},Un=function(I,R){R=R||{},O(function(){var D,U=[2500,4e3],B=S(),j=p("LCP"),H=function(q){var te=q[q.length-1];if(te){var Me=Math.max(te.startTime-_(),0);Me<B.firstHiddenTime&&(j.value=Me,j.entries=[te],D())}},ee=d("largest-contentful-paint",H);if(ee){D=f(I,j,U,R.reportAllChanges);var Y=g(function(){Ee[j.id]||(H(ee.takeRecords()),ee.disconnect(),Ee[j.id]=!0,D(!0))});["keydown","click"].forEach(function(q){addEventListener(q,Y,!0)}),c(Y),o(function(q){j=p("LCP"),D=f(I,j,U,R.reportAllChanges),s(function(){j.value=performance.now()-q.timeStamp,Ee[j.id]=!0,D(!0)})})}})},ui=function I(R){document.prerendering?O(function(){return I(R)}):document.readyState!=="complete"?addEventListener("load",function(){return I(R)},!0):setTimeout(R,0)},Fn=function(I,R){R=R||{};var D=[800,1800],U=p("TTFB"),B=f(I,U,D,R.reportAllChanges);ui(function(){var j=l();if(j){var H=j.responseStart;if(H<=0||H>performance.now())return;U.value=Math.max(H-_(),0),U.entries=[j],B(!0),o(function(){U=p("TTFB",0),(B=f(I,U,D,R.reportAllChanges))(!0)})}})};n.getCLS=E,n.getFCP=C,n.getFID=re,n.getINP=ye,n.getLCP=Un,n.getTTFB=Fn,n.onCLS=E,n.onFCP=C,n.onFID=re,n.onINP=ye,n.onLCP=Un,n.onTTFB=Fn,Object.defineProperty(n,"__esModule",{value:!0})})})(zt,zt.exports);var eo=zt.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeWebVitals=e.interactionToNextPaint=e.timeToFirstByte=e.firstContentfulPaint=e.cumulativeLayoutShift=e.firstInputDelay=e.largestContentfulPaint=e.Action=void 0;var i=eo,n=Ge,r=$,a=F,t=ue,u;(function(f){f.LARGEST_CONTENTFUL_PAINT="APP::WEB_VITALS::LARGEST_CONTENTFUL_PAINT",f.FIRST_INPUT_DELAY="APP::WEB_VITALS::FIRST_INPUT_DELAY",f.CUMULATIVE_LAYOUT_SHIFT="APP::WEB_VITALS::CUMULATIVE_LAYOUT_SHIFT",f.FIRST_CONTENTFUL_PAINT="APP::WEB_VITALS::FIRST_CONTENTFUL_PAINT",f.TIME_TO_FIRST_BYTE="APP::WEB_VITALS::TIME_TO_FIRST_BYTE",f.INTERACTION_TO_NEXT_PAINT="APP::WEB_VITALS::INTERACTION_TO_NEXT_PAINT"})(u=e.Action||(e.Action={}));function h(f){return a.actionWrapper({group:r.Group.WebVitals,type:u.LARGEST_CONTENTFUL_PAINT,payload:f})}e.largestContentfulPaint=h;function A(f){return a.actionWrapper({group:r.Group.WebVitals,type:u.FIRST_INPUT_DELAY,payload:f})}e.firstInputDelay=A;function o(f){return a.actionWrapper({group:r.Group.WebVitals,type:u.CUMULATIVE_LAYOUT_SHIFT,payload:f})}e.cumulativeLayoutShift=o;function l(f){return a.actionWrapper({group:r.Group.WebVitals,type:u.FIRST_CONTENTFUL_PAINT,payload:f})}e.firstContentfulPaint=l;function _(f){return a.actionWrapper({group:r.Group.WebVitals,type:u.TIME_TO_FIRST_BYTE,payload:f})}e.timeToFirstByte=_;function p(f){return a.actionWrapper({group:r.Group.WebVitals,type:u.INTERACTION_TO_NEXT_PAINT,payload:f})}e.interactionToNextPaint=p;function d(f){function s(g){return function(y){var b=y.id,P=y.name,m=y.value,M={id:b,metricName:P,value:m},S=g(M);f.dispatch(S)}}var c=window;n.isServer||n.isClient&&c.__is_web_vitals_initialized__||t.isMobile()||(c.__is_web_vitals_initialized__=!0,i.onLCP(s(h)),i.onFID(s(A)),i.onCLS(s(o)),i.onFCP(s(l)),i.onTTFB(s(_)),i.onINP(s(p)))}e.initializeWebVitals=d})(Gr);(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(Gr,e)})(ln);(function(e){var i=v&&v.__createBinding||(Object.create?function(W,Z,G,Q){Q===void 0&&(Q=G),Object.defineProperty(W,Q,{enumerable:!0,get:function(){return Z[G]}})}:function(W,Z,G,Q){Q===void 0&&(Q=G),W[Q]=Z[G]}),n=v&&v.__setModuleDefault||(Object.create?function(W,Z){Object.defineProperty(W,"default",{enumerable:!0,value:Z})}:function(W,Z){W.default=Z}),r=v&&v.__importStar||function(W){if(W&&W.__esModule)return W;var Z={};if(W!=null)for(var G in W)G!=="default"&&Object.prototype.hasOwnProperty.call(W,G)&&i(Z,W,G);return n(Z,W),Z},a=v&&v.__exportStar||function(W,Z){for(var G in W)G!=="default"&&!Object.prototype.hasOwnProperty.call(Z,G)&&i(Z,W,G)};Object.defineProperty(e,"__esModule",{value:!0}),e.WebVitals=e.unstable_Picker=e.Performance=e.Pos=e.AppLink=e.ChannelMenu=e.NavigationMenu=e.Share=e.ContextualSaveBar=e.MarketingExternalActivityTopBar=e.TitleBar=e.SessionToken=e.ResourcePicker=e.Redirect=e.Print=e.ModalContent=e.Modal=e.Loading=e.LeaveConfirmation=e.History=e.Toast=e.Fullscreen=e.FeedbackModal=e.Features=e.Flash=e.Error=e.Client=e.Cart=e.Scanner=e.ButtonGroup=e.Button=e.AuthCode=e.isAppBridgeAction=void 0;var t=r(bt);e.AuthCode=t;var u=r(Pe);e.Button=u;var h=r(ke);e.ButtonGroup=h;var A=r(mr);e.Cart=A;var o=r(nn);e.Client=o;var l=r(ve);e.Error=l;var _=r(Sr);e.Flash=_;var p=r(rn);e.Features=p;var d=r(Mr);e.FeedbackModal=d;var f=r(wr);e.Fullscreen=f;var s=r(Rr);e.LeaveConfirmation=s;var c=r(Ir);e.Loading=c;var g=r(Ue);e.Modal=g;var y=r(Nr);e.ModalContent=y;var b=r(Dr);e.History=b;var P=r(Ye);e.Redirect=P;var m=r(an);e.Print=m;var M=r(on);e.ResourcePicker=M;var S=r(jr);e.Scanner=S;var O=r(At);e.SessionToken=O;var C=r(un);e.TitleBar=C;var E=r(ze);e.Toast=E;var T=r(cn);e.ContextualSaveBar=T;var w=r(Lr);e.Share=w;var N=r(sn);e.NavigationMenu=N;var L=r(Br);e.ChannelMenu=L;var k=r(Je);e.AppLink=k;var X=r(Ur);e.Pos=X;var re=r(Fr);e.MarketingExternalActivityTopBar=re;var ne=r($r);e.Performance=ne;var ae=r(fn);e.unstable_Picker=ae;var J=r(ln);e.WebVitals=J;var fe=ie;Object.defineProperty(e,"isAppBridgeAction",{enumerable:!0,get:function(){return fe.isAppBridgeAction}}),a($,e)})(Oe);var pt=v&&v.__assign||function(){return pt=Object.assign||function(e){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},pt.apply(this,arguments)},to=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},no=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(mt,"__esModule",{value:!0});mt.authenticatedFetch=void 0;var Xn=Oe,ro=Qe;function io(e,i){var n=this;return i===void 0&&(i=void 0),function(r,a){return a===void 0&&(a={}),to(n,void 0,void 0,function(){var t,u,h,A,o,l,_,p,d;return no(this,function(f){switch(f.label){case 0:return[4,ro.getSessionToken(e)];case 1:return t=f.sent(),u=new Headers(a.headers),u.append("Authorization","Bearer "+t),u.append("X-Requested-With","XMLHttpRequest"),h={},u.forEach(function(s,c){h[c]=s}),A=typeof i=="object"?i:void 0,o=typeof i=="function"?i:(d=A==null?void 0:A.fetchOperation)!==null&&d!==void 0?d:fetch,[4,o(r,pt(pt({},a),{headers:h}))];case 2:return l=f.sent(),A&&(_=A.reauthorizeUrl,p=A.requestFailureReauthorizeUrlHeader,l.headers.forEach(function(s,c){if(p.toLowerCase()===c.toLowerCase()){var g=new URL(_||s,location.href).href,y=Xn.Redirect.create(e);g?y.dispatch(Xn.Redirect.Action.REMOTE,g):console.warn("Couldn't find a fallback auth path to redirect to.")}})),[2,l]}})})}}mt.authenticatedFetch=io;(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(Qe,e),n(mt,e)})(Er);var kr={},Ze={},ao=v&&v.__createBinding||(Object.create?function(e,i,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return i[n]}})}:function(e,i,n,r){r===void 0&&(r=n),e[r]=i[n]}),oo=v&&v.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),uo=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&ao(i,e,n);return oo(i,e),i},co=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},so=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},fo=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.getAuthorizationCodePayload=void 0;var Qn=uo(bt),Yn=ve,lo=fo(Ce);function po(e){return co(this,void 0,void 0,function(){return so(this,function(i){return[2,new Promise(function(n,r){var a=lo.default(),t=e.subscribe(Qn.Action.RESPOND,function(u){switch(u==null?void 0:u.status){case"needsExchange":n(u);break;default:r(Yn.fromAction("Failed to retrieve an authorization code",Yn.Action.FAILED_AUTHENTICATION))}t()},a);e.dispatch(Qn.request(a))})]})})}Ze.getAuthorizationCodePayload=po;var Ct={},vo=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},ho=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.userAuthorizedFetch=void 0;var _o=Ze,yo="auth/shopify/callback";function Ao(e){var i=e.headers.get("X-Shopify-API-Request-Failure-Unauthorized");return i?i.toLowerCase()==="true":!1}function go(e){var i=this,n=e.app,r=e.callbackUri,a=r===void 0?yo:r,t=e.isAuthorizationCodeRequired,u=t===void 0?Ao:t,h=e.fetchOperation;return function(A,o){return vo(i,void 0,void 0,function(){var l,_,p,d,f,s,c,g;return ho(this,function(y){switch(y.label){case 0:return[4,h(A,o)];case 1:return l=y.sent(),u(l)?[4,_o.getAuthorizationCodePayload(n)]:[2,l];case 2:return _=y.sent(),p=_.code,d=_.hmac,f=_.shop,s=_.timestamp,c=encodeURI("https://"+window.location.hostname+"/"+a+"?code="+p+"&hmac="+d+"&shop="+f+"&timestamp="+s),[4,h(c,{})];case 3:if(g=y.sent(),!g.ok)throw new Error("Failed to authorize request.");return[2,h(A,o)]}})})}}Ct.userAuthorizedFetch=go;(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ze,e),n(Ct,e)})(kr);(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(je,e),n(ue,e),n(Er,e),n(kr,e)})(Ar);Object.defineProperty(Et,"__esModule",{value:!0});Et.useAuthenticatedFetch=void 0;var bo=K,Po=Ar,Oo=x;function Eo(e){e===void 0&&(e=void 0);var i=Oo.useAppBridge(),n=bo.useMemo(function(){return Po.authenticatedFetch(i,e)},[i,e]);return n}Et.useAuthenticatedFetch=Eo;(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(Et,e)})(yr);var Wr={},Mt={},Jn=v&&v.__rest||function(e,i){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)i.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.useContextualSaveBar=void 0;var le=K,Ve=cn,mo=x;function So(){var e=mo.useAppBridge(),i=le.useRef(!1),n=le.useState(),r=n[0],a=n[1],t=le.useState(),u=t[0],h=t[1],A=le.useMemo(function(){return Ve.create(e)},[e]),o=le.useCallback(function(d){d&&A.set(d,!1),A.dispatch(Ve.Action.SHOW),i.current=!0},[A]),l=le.useCallback(function(){A.dispatch(Ve.Action.HIDE),i.current=!1},[A]),_=le.useMemo(function(){return{setOptions:function(d){var f=d.onAction,s=Jn(d,["onAction"]),c=JSON.stringify(A.options.saveAction)!==JSON.stringify(s)&&i.current;a(function(){return f}),A.set({saveAction:s},c)}}},[A]),p=le.useMemo(function(){return{setOptions:function(d){var f=d.onAction,s=Jn(d,["onAction"]),c=JSON.stringify(A.options.discardAction)!==JSON.stringify(s)&&i.current;h(function(){return f}),A.set({discardAction:s},c)}}},[A]);return le.useEffect(function(){return function(){i.current&&l()}},[]),le.useEffect(function(){return A.subscribe(Ve.Action.DISCARD,function(){u==null||u()})},[A,u]),le.useEffect(function(){return A.subscribe(Ve.Action.SAVE,function(){r==null||r()})},[A,r]),{show:o,hide:l,saveAction:_,discardAction:p}}Mt.useContextualSaveBar=So;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useContextualSaveBar=void 0;var i=Mt;Object.defineProperty(e,"useContextualSaveBar",{enumerable:!0,get:function(){return i.useContextualSaveBar}})})(Wr);var dn={},wt={},To=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},Co=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(wt,"__esModule",{value:!0});wt.useFeaturesAvailable=void 0;var He=K,Mo=St,wo=x;function Ro(){for(var e=this,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=wo.useAppBridge(),a=He.useState(),t=a[0],u=a[1],h=He.useRef([]),A=He.useCallback(function(){var o=!1;return function(){return To(e,void 0,void 0,function(){var l;return Co(this,function(_){switch(_.label){case 0:return[4,r.featuresAvailable.apply(r,h.current)];case 1:return l=_.sent(),o||u(function(p){return JSON.stringify(p)===JSON.stringify(l)?p:l}),[2]}})})}(),function(){o=!0}},[r]);return He.useEffect(function(){return h.current=i,A()},[JSON.stringify(i)]),He.useEffect(function(){var o,l=r.subscribe(Mo.Action.UPDATE,function(){o=A()});return function(){l(),o==null||o()}},[r,A]),t}wt.useFeaturesAvailable=Ro;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useFeaturesAvailable=void 0;var i=wt;Object.defineProperty(e,"useFeaturesAvailable",{enumerable:!0,get:function(){return i.useFeaturesAvailable}})})(dn);var Vr={},Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.useFeatureRequest=void 0;var at=K,Zn=rn,Io=x,No=dn;function Do(e,i){var n=Io.useAppBridge(),r=No.useFeaturesAvailable(),a=at.useState(),t=a[0],u=a[1],h=at.useCallback(function(A){var o=A==null?void 0:A[e];if(i&&(o!=null&&o[i])){var l=o==null?void 0:o[i];u(function(_){return JSON.stringify(l)!==JSON.stringify(_)?l:_});return}u(function(_){return JSON.stringify(o)!==JSON.stringify(_)?o:_})},[e,i]);return at.useEffect(function(){Zn.create(n).dispatch(Zn.Action.REQUEST,{feature:e,action:i})},[n,e,i]),at.useEffect(function(){h(r)},[r,h]),t}Rt.useFeatureRequest=Do;(function(e){var i=v&&v.__createBinding||(Object.create?function(r,a,t,u){u===void 0&&(u=t),Object.defineProperty(r,u,{enumerable:!0,get:function(){return a[t]}})}:function(r,a,t,u){u===void 0&&(u=t),r[u]=a[t]}),n=v&&v.__exportStar||function(r,a){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(a,t)&&i(a,r,t)};Object.defineProperty(e,"__esModule",{value:!0}),n(Rt,e)})(Vr);var Hr={},It={};Object.defineProperty(It,"__esModule",{value:!0});It.useLocale=void 0;var jo=tn;function Lo(){return jo.useAppBridgeState("staffMember.locale")}It.useLocale=Lo;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useLocale=void 0;var i=It;Object.defineProperty(e,"useLocale",{enumerable:!0,get:function(){return i.useLocale}})})(Hr);var zr={},Nt={},pn={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.useNavigationHistory=void 0;var Bo=K,Ut=Oe,Uo=x;function Fo(){var e=Uo.useAppBridge();return Bo.useMemo(function(){var i=Ut.History.create(e);function n(a){i.dispatch(Ut.History.Action.PUSH,a.pathname)}function r(a){i.dispatch(Ut.History.Action.REPLACE,a.pathname)}return{push:n,replace:r}},[])}Dt.useNavigationHistory=Fo;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useNavigationHistory=void 0;var i=Dt;Object.defineProperty(e,"useNavigationHistory",{enumerable:!0,get:function(){return i.useNavigationHistory}})})(pn);var vt=v&&v.__assign||function(){return vt=Object.assign||function(e){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},vt.apply(this,arguments)};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.useNavigate=void 0;var Ft=K,_e=Ye,$o=x,Go=pn;function ko(){var e=$o.useAppBridge(),i=Go.useNavigationHistory(),n=Ft.useMemo(function(){return _e.create(e)},[e]),r=Ft.useCallback(function(a,t){var u=_e.normalizeUrl(a),h=u.startsWith(e.localOrigin),A=u.startsWith(e.hostOrigin),o=u.startsWith("/");if(h||A||o){var l=_e.getRelativePath(u);if(A||(t==null?void 0:t.target)==="new"||(t==null?void 0:t.target)==="host"){n.dispatch(_e.Action.ADMIN_PATH,{path:l.replace(/^\/admin/,""),newContext:(t==null?void 0:t.target)==="new"});return}if(((t==null?void 0:t.target)==="self"||!(t!=null&&t.target))&&(t!=null&&t.replace)){i.replace({pathname:l});return}n.dispatch(_e.Action.APP,l);return}n.dispatch(_e.Action.REMOTE,{url:u,newContext:(t==null?void 0:t.target)==="new"})},[n,i]);return Ft.useCallback(function(a,t){if(_e.isAdminSection(a)){var u=vt(vt({},a),{name:_e.ResourceType[a.name]});n.dispatch(_e.Action.ADMIN_SECTION,{section:u,newContext:(t==null?void 0:t.target)==="new"});return}r(a,t)},[r,n])}Nt.useNavigate=ko;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useNavigate=void 0;var i=Nt;Object.defineProperty(e,"useNavigate",{enumerable:!0,get:function(){return i.useNavigate}})})(zr);var Kr={},qr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useToast=e.DEFAULT_TOAST_DURATION=void 0;var i=K,n=ze,r=x;e.DEFAULT_TOAST_DURATION=5e3;function a(){var t=r.useAppBridge(),u=i.useRef([]),h=i.useCallback(function(A,o){var l=n.create(t,{message:A,isError:o==null?void 0:o.isError,duration:(o==null?void 0:o.duration)||e.DEFAULT_TOAST_DURATION,action:o==null?void 0:o.action});l.dispatch(n.Action.SHOW),u.current.push(l),l.subscribe(n.Action.CLEAR,function(){var _;(_=o==null?void 0:o.onDismiss)===null||_===void 0||_.call(o),u.current.splice(u.current.indexOf(l),1),l.unsubscribe()}),l.subscribe(n.Action.ACTION,function(){var _,p;(p=(_=o==null?void 0:o.action)===null||_===void 0?void 0:_.onAction)===null||p===void 0||p.call(_)})},[t]);return i.useEffect(function(){return function(){u.current.forEach(function(A){return A==null?void 0:A.unsubscribe()})}},[]),{show:h}}e.useToast=a})(qr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useToast=void 0;var i=qr;Object.defineProperty(e,"useToast",{enumerable:!0,get:function(){return i.useToast}})})(Kr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useToast=e.useNavigationHistory=e.useNavigate=e.useLocale=e.useFeatureRequest=e.useFeaturesAvailable=e.useContextualSaveBar=e.useAuthenticatedFetch=e.useAppBridgeState=void 0;var i=tn;Object.defineProperty(e,"useAppBridgeState",{enumerable:!0,get:function(){return i.useAppBridgeState}});var n=yr;Object.defineProperty(e,"useAuthenticatedFetch",{enumerable:!0,get:function(){return n.useAuthenticatedFetch}});var r=Wr;Object.defineProperty(e,"useContextualSaveBar",{enumerable:!0,get:function(){return r.useContextualSaveBar}});var a=dn;Object.defineProperty(e,"useFeaturesAvailable",{enumerable:!0,get:function(){return a.useFeaturesAvailable}});var t=Vr;Object.defineProperty(e,"useFeatureRequest",{enumerable:!0,get:function(){return t.useFeatureRequest}});var u=Hr;Object.defineProperty(e,"useLocale",{enumerable:!0,get:function(){return u.useLocale}});var h=zr;Object.defineProperty(e,"useNavigate",{enumerable:!0,get:function(){return h.useNavigate}});var A=pn;Object.defineProperty(e,"useNavigationHistory",{enumerable:!0,get:function(){return A.useNavigationHistory}});var o=Kr;Object.defineProperty(e,"useToast",{enumerable:!0,get:function(){return o.useToast}})})(en);Object.defineProperty(xt,"__esModule",{value:!0});var $t=K,Wo=en;function Vo(e){var i=e.discardAction,n=i===void 0?{}:i,r=e.saveAction,a=r===void 0?{}:r,t=e.fullWidth,u=e.leaveConfirmationDisable,h=e.visible,A=Wo.useContextualSaveBar(),o=A.show,l=A.hide,_=A.saveAction.setOptions,p=A.discardAction.setOptions;return $t.useEffect(function(){_(a)},[a]),$t.useEffect(function(){p(n)},[n]),$t.useEffect(function(){h?o({fullWidth:t,leaveConfirmationDisable:u}):l()},[t,u,h]),null}xt.default=Vo;var Ho=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zt,"__esModule",{value:!0});var zo=Ho(xt);Zt.default=zo.default;var vn={},hn={},Ko=v&&v.__extends||function(){var e=function(i,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])},e(i,n)};return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(i,n);function r(){this.constructor=i}i.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qo=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hn,"__esModule",{value:!0});var Xo=qo(K),Gt=Oe,Qo=pe,Yo=function(e){Ko(i,e);function i(){return e!==null&&e.apply(this,arguments)||this}return i.prototype.componentDidMount=function(){var n=this.context;this.loading=Gt.Loading.create(n),this.loading!=null&&this.loading.dispatch(Gt.Loading.Action.START)},i.prototype.componentWillUnmount=function(){this.loading!=null&&this.loading.dispatch(Gt.Loading.Action.STOP)},i.prototype.render=function(){return null},i.contextType=Qo.AppBridgeContext,i}(Xo.default.Component);hn.default=Yo;var Jo=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vn,"__esModule",{value:!0});var Zo=Jo(hn);vn.default=Zo.default;var Xr={},_n={},Se={},xo=v&&v.__createBinding||(Object.create?function(e,i,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return i[n]}})}:function(e,i,n,r){r===void 0&&(r=n),e[r]=i[n]}),eu=v&&v.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),yn=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&xo(i,e,n);return eu(i,e),i},ht=v&&v.__spreadArray||function(e,i){for(var n=0,r=i.length,a=e.length;n<r;n++,a++)e[a]=i[n];return e};Object.defineProperty(Se,"__esModule",{value:!0});Se.transformActions=Se.generateRedirect=void 0;var ot=yn(Pe),tu=yn(ke),Kt=yn(Ye);function Qr(e,i,n,r){if(n===void 0&&(n="APP"),i!=null){var a=Kt.create(e),t=r===!0?{url:i,newContext:!0}:i;return function(){a.dispatch(nu(n,r),t)}}}Se.generateRedirect=Qr;function nu(e,i){return i===!0?Kt.Action.REMOTE:Kt.Action[e]}function ru(e,i){var n=i.primaryAction,r=i.secondaryActions,a=i.actionGroups,t=iu(e,n),u=ht(ht([],au(e,r)),ou(e,a));return{primary:t,secondary:u}}Se.transformActions=ru;function An(e,i){var n=i.destructive===!0?ot.Style.Danger:void 0,r=ot.create(e,{label:i.content||"",disabled:i.disabled,loading:i.loading,plain:i.plain,style:n});i.onAction&&r.subscribe(ot.Action.CLICK,i.onAction);var a=Qr(e,i.url,i.target,i.external);return a!=null&&r.subscribe(ot.Action.CLICK,a),r}function iu(e,i){if(i!=null){var n=An(e,i);return n}}function au(e,i){i===void 0&&(i=[]);var n=ht([],i.map(function(r){return An(e,r)}));return n}function ou(e,i){i===void 0&&(i=[]);var n=ht([],i.map(function(r){var a=r.actions.map(function(t){return An(e,t)});return tu.create(e,{label:r.title,plain:r.plain,buttons:a})}));return n}var _t=v&&v.__assign||function(){return _t=Object.assign||function(e){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},_t.apply(this,arguments)},uu=v&&v.__rest||function(e,i){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)i.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};Object.defineProperty(_n,"__esModule",{value:!0});var Ie=K,Ne=Ue,cu=Se,su=x;function fu(e){var i=su.useAppBridge(),n=Ie.useRef(null),r=Ie.useRef({open:!1}),a=e.open,t=Ie.useRef(!1),u=Ie.useMemo(function(){e.primaryAction,e.secondaryActions;var h=uu(e,["primaryAction","secondaryActions"]);return Ne.create(i,xn(i,h))},[i]);return Ie.useEffect(function(){if(t.current){r.current=e;return}var h=r.current.open,A=h!==a;if(a){var o=xn(i,e,h),l=!A;lu(o),u.set(o,l)}return A&&(a?(u.dispatch(Ne.Action.OPEN),n.current=document.activeElement):(u.dispatch(Ne.Action.CLOSE),n.current!=null&&document.contains(n.current)&&(n.current.focus(),n.current=null))),e.onClose!=null&&u.subscribe(Ne.Action.CLOSE,e.onClose),r.current=e,function(){u.unsubscribe()}},[e,a]),Ie.useEffect(function(){return function(){r.current.open&&u.dispatch(Ne.Action.CLOSE)}},[u]),null}function lu(e){return typeof e.url=="string"||typeof e.path=="string"}function xn(e,i,n){var r=i.title,a=i.size,t=i.message,u=i.src,h=i.primaryAction,A=i.secondaryActions,o=i.loading,l=a==null?void 0:Ne.Size[a],_={};return u!=null&&(u.match("^https?://")?_.url=u:_.path=u),_t(_t({title:r,message:t,size:l},_),{footer:{buttons:cu.transformActions(e,{primaryAction:h,secondaryActions:A})},loading:n?void 0:o})}_n.default=fu;var gn={},bn={},du=v&&v.__extends||function(){var e=function(i,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])},e(i,n)};return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(i,n);function r(){this.constructor=i}i.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pu=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bn,"__esModule",{value:!0});var vu=pu(K),hu=Oe,_u=pe,yu=function(e){du(i,e);function i(){return e!==null&&e.apply(this,arguments)||this}return i.prototype.componentDidMount=function(){var n=this.context;this.modalContent=hu.ModalContent.create(n),this.syncLoadingStatus()},i.prototype.componentDidUpdate=function(){this.syncLoadingStatus()},i.prototype.syncLoadingStatus=function(){this.modalContent&&(this.props.loading?this.modalContent.loading():this.modalContent.loaded())},i.prototype.render=function(){return null},i.contextType=_u.AppBridgeContext,i}(vu.default.Component);bn.default=yu;var Au=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gn,"__esModule",{value:!0});var gu=Au(bn);gn.default=gu.default;(function(e){var i=v&&v.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.ModalContent=void 0;var n=i(_n),r=gn;Object.defineProperty(e,"ModalContent",{enumerable:!0,get:function(){return i(r).default}}),e.default=n.default})(Xr);var Pn={},On={};Object.defineProperty(On,"__esModule",{value:!0});var ut=K,bu=Je,Pu=sn,Ou=x;function Eu(e,i){return e.destination.replace(/\/$/,"")===i.pathname.replace(/\/$/,"")}function mu(e){var i=e.navigationLinks,n=e.matcher,r=n===void 0?Eu:n,a=Ou.useAppBridge(),t=ut.useState(),u=t[0],h=t[1];ut.useEffect(function(){var o=i.map(function(l){return bu.create(a,l)});h(o)},[a,JSON.stringify(i)]);var A=ut.useMemo(function(){var o=(u||[]).findIndex(function(l){return r(l,location)});if(o>=0)return u==null?void 0:u[o]},[a,location.pathname,r,u,location.pathname]);return ut.useEffect(function(){u&&Pu.create(a,{items:u,active:A})},[u,A]),null}On.default=mu;var Su=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pn,"__esModule",{value:!0});var Tu=Su(On);Pn.default=Tu.default;var En={},Yr={},Jr={exports:{}},Zr={},qt={},Xt={},Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.mockAppBridge=Be.serverAppBridge=void 0;var ct=ve,yt=function(){},er=new Promise(function(){});Be.serverAppBridge={dispatch:function(){return{}},error:function(){return yt},featuresAvailable:function(){return Promise.reject(ct.fromAction("Feature detection is only available on the client side.",ct.AppActionType.WINDOW_UNDEFINED))},getState:function(){return Promise.reject(ct.fromAction("State is only available on the client side.",ct.AppActionType.WINDOW_UNDEFINED))},localOrigin:"",hostOrigin:"",subscribe:function(){return yt}};Be.mockAppBridge={dispatch:function(){return{}},error:function(){return yt},featuresAvailable:function(){return er},getState:function(){return er},localOrigin:"",hostOrigin:"",subscribe:function(){return yt}};var jt={},de={};Object.defineProperty(de,"__esModule",{value:!0});de.getWindow=de.getLocation=de.redirect=de.shouldRedirect=void 0;function Cu(e){return e===window}de.shouldRedirect=Cu;function Mu(e){var i=xr();i&&i.assign(e)}de.redirect=Mu;function xr(){return ei()?window.location:void 0}de.getLocation=xr;function wu(){return ei()?window:void 0}de.getWindow=wu;function ei(){return typeof window<"u"}Object.defineProperty(jt,"__esModule",{value:!0});jt.handleAppPrint=void 0;var ti=de;function Ru(){return navigator.userAgent.indexOf("iOS")>=0}function Iu(){var e=ti.getWindow();if(!(!e||!e.document||!e.document.body)){var i=e.document.createElement("input");return i.style.display="none",e.document.body.appendChild(i),i}}function ni(){var e;(e=ti.getWindow())===null||e===void 0||e.print()}function Nu(){var e=Iu();e&&(e.select(),ni(),e.remove())}function Du(){Ru()?Nu():ni()}jt.handleAppPrint=Du;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});var ju=be,Lu=function(){function e(){this.map={}}return e.prototype.set=function(i,n){Object.prototype.hasOwnProperty.call(this.map,i)||(this.map[i]=[]);var r={handler:n,remove:function(){}},a=ju.addAndRemoveFromCollection(this.map[i],r);return r={handler:n,remove:a},a},e.prototype.get=function(i){var n=this.map[i];return n?n.map(function(r){return r.handler}):void 0},e.prototype.run=function(i,n,r){for(var a=[],t=3;t<arguments.length;t++)a[t-3]=arguments[t];var u=0,h=this.get(i)||[];function A(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var _=h[u++];return _?_(A).apply(r,o):n.apply(r,o)}return A.apply(r,a)},e}();mn.default=Lu;(function(e){var i=v&&v.__assign||function(){return i=Object.assign||function(S){for(var O,C=1,E=arguments.length;C<E;C++){O=arguments[C];for(var T in O)Object.prototype.hasOwnProperty.call(O,T)&&(S[T]=O[T])}return S},i.apply(this,arguments)},n=v&&v.__spreadArray||function(S,O){for(var C=0,E=O.length,T=S.length;C<E;C++,T++)S[T]=O[C];return S},r=v&&v.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.createApp=e.createAppWrapper=e.createClientApp=e.WINDOW_UNDEFINED_MESSAGE=void 0;var a=F,t=an,u=ve,h=$e,A=Be,o=Ge,l=nn,_=ln,p=jt,d=de,f=Fe,s=r(mn);e.WINDOW_UNDEFINED_MESSAGE="window is not defined. Running an app outside a browser is not supported";function c(S,O){var C=O.apiKey,E=O.host,T=O.forceRedirect,w=T===void 0?!o.isDevelopmentClient:T,N=d.getLocation();if(o.isUnframed||!N||!C||!E||!w||!d.shouldRedirect(S))return!1;var L="https://"+E+"/apps/"+C+N.pathname+(N.search||"");return d.redirect(L),!0}function g(S){S.subscribe(t.Action.APP,p.handleAppPrint),S.dispatch(l.initialize());try{_.initializeWebVitals(S)}catch{}}var y=function(S,O){O===void 0&&(O=[]);var C=[],E=h.createTransportListener(),T=function(w){var N=w.data,L=N.type,k=N.payload;switch(L){case"getState":{var X=C.splice(0);X.forEach(function(ae){return ae(k)});break}case"dispatch":{E.handleMessage(k);var re=E.handleActionDispatch(k);if(re)return;var ne=a.findMatchInEnum(u.Action,k.type);ne&&u.throwError(ne,k);break}}};return S.subscribe(T),function(w){var N=b(w),L=c(S.hostFrame,N);if(L)return A.mockAppBridge;var k=M(S,N),X=E.createSubscribeHandler(k);k(f.MessageType.Unsubscribe);function re(G){return k(f.MessageType.Dispatch,G),G}for(var ne=new URL("https://"+N.host).origin,ae=new s.default,J={hostOrigin:ne,localOrigin:S.localOrigin,hooks:ae,dispatch:function(G){return J.hooks?J.hooks.run(f.LifecycleHook.DispatchAction,re,J,G):re(G)},featuresAvailable:function(){for(var G=[],Q=0;Q<arguments.length;Q++)G[Q]=arguments[Q];var z=G[0],oe=Array.isArray(z)?n([],z):G;return J.getState("features").then(function(he){return oe.length?oe.reduce(function(ye,Ee){return Object.keys(he).includes(Ee)&&(ye[Ee]=he[Ee]),ye},{}):he})},getState:function(G){return G&&typeof G!="string"?Promise.resolve(void 0):new Promise(function(Q){C.push(Q),k(f.MessageType.GetState)}).then(function(Q){var z=Q;if(G)for(var oe=0,he=G.split(".");oe<he.length;oe++){var ye=he[oe];if(z==null||typeof z!="object"||Array.isArray(z)||!Object.keys(z).includes(ye))return;z=z[ye]}return z})},subscribe:X,error:function(G,Q){var z=[];return a.forEachInEnum(u.Action,function(oe){z.push(X(oe,G,Q))}),function(){z.forEach(function(oe){return oe()})}}},fe=0,W=O;fe<W.length;fe++){var Z=W[fe];Z(ae,J)}return g(J),J}};e.createClientApp=y;function b(S){var O;if(!S.host)throw u.fromAction("host must be provided",u.AppActionType.INVALID_CONFIG);if(!S.apiKey)throw u.fromAction("apiKey must be provided",u.AppActionType.INVALID_CONFIG);try{var C=atob((O=S.host)===null||O===void 0?void 0:O.replace(/_/g,"/").replace(/-/g,"+"));return i(i({},S),{host:C})}catch{var E="not a valid host, please use the value provided by Shopify";throw u.fromAction(E,u.AppActionType.INVALID_CONFIG)}}function P(S,O,C){if(C===void 0&&(C=[]),!S)throw u.fromAction(e.WINDOW_UNDEFINED_MESSAGE,u.AppActionType.WINDOW_UNDEFINED);var E=d.getLocation(),T=O||E&&E.origin;if(!T)throw u.fromAction("local origin cannot be blank",u.AppActionType.MISSING_LOCAL_ORIGIN);var w=h.fromWindow(S,T),N=e.createClientApp(w,C);return N}e.createAppWrapper=P;function m(S){var O=d.getWindow();return!O||!O.top?A.serverAppBridge:P(O.top)(S)}e.createApp=m;function M(S,O){return function(C,E){S.dispatch({payload:E,source:O,type:C})}}e.default=m})(Xt);(function(e){var i=v&&v.__createBinding||(Object.create?function(a,t,u,h){h===void 0&&(h=u),Object.defineProperty(a,h,{enumerable:!0,get:function(){return t[u]}})}:function(a,t,u,h){h===void 0&&(h=u),a[h]=t[u]}),n=v&&v.__exportStar||function(a,t){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(t,u)&&i(t,a,u)};Object.defineProperty(e,"__esModule",{value:!0});var r=Xt;n(Fe,e),n(Xt,e),e.default=r.createClientApp})(qt);(function(e){var i=v&&v.__createBinding||(Object.create?function(a,t,u,h){h===void 0&&(h=u),Object.defineProperty(a,h,{enumerable:!0,get:function(){return t[u]}})}:function(a,t,u,h){h===void 0&&(h=u),a[h]=t[u]}),n=v&&v.__exportStar||function(a,t){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(t,u)&&i(t,a,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=qt;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r.createApp}}),n($e,e),n(qt,e)})(Zr);Jr.exports=Zr;var Bu=Jr.exports,Sn={},Tn={},xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.handleRouteChange=void 0;var Uu=Oe;function Fu(e,i){return e.subscribe(Uu.Redirect.Action.APP,function(n){var r=n.path;i.replace(r)})}xe.handleRouteChange=Fu;var $u=v&&v.__extends||function(){var e=function(i,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])},e(i,n)};return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(i,n);function r(){this.constructor=i}i.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gu=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tn,"__esModule",{value:!0});var ku=Gu(K),Wu=pe,Vu=xe,Hu=function(e){$u(i,e);function i(){return e!==null&&e.apply(this,arguments)||this}return i.prototype.componentDidMount=function(){var n=this.props.history;this.unsubscribe=Vu.handleRouteChange(this.context,n)},i.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},i.prototype.render=function(){return null},i.contextType=Wu.AppBridgeContext,i}(ku.default.Component);Tn.default=Hu;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});var zu=K,Ku=x,qu=xe;function Xu(e){var i=Ku.useAppBridge();zu.useEffect(function(){return qu.handleRouteChange(i,e)},[i,e])}Cn.default=Xu;(function(e){var i=v&&v.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.useClientRouting=e.ClientRouter=void 0;var n=Tn;Object.defineProperty(e,"ClientRouter",{enumerable:!0,get:function(){return i(n).default}});var r=Cn;Object.defineProperty(e,"useClientRouting",{enumerable:!0,get:function(){return i(r).default}})})(Sn);var Mn={},wn={},et={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.getOrigin=ge.getTopWindow=ge.getSelfWindow=void 0;function Qu(){return window.self}ge.getSelfWindow=Qu;function Yu(){return window.top}ge.getTopWindow=Yu;function Ju(){return location.origin}ge.getOrigin=Ju;var Zu=v&&v.__awaiter||function(e,i,n,r){function a(t){return t instanceof n?t:new n(function(u){u(t)})}return new(n||(n=Promise))(function(t,u){function h(l){try{o(r.next(l))}catch(_){u(_)}}function A(l){try{o(r.throw(l))}catch(_){u(_)}}function o(l){l.done?t(l.value):a(l.value).then(h,A)}o((r=r.apply(e,i||[])).next())})},xu=v&&v.__generator||function(e,i){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},r,a,t,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(o){return function(l){return A([o,l])}}function A(o){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(t=o[0]&2?a.return:o[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,o[1])).done)return t;switch(a=0,t&&(o=[o[0]&2,t.value]),o[0]){case 0:case 1:t=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,a=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!t||o[1]>t[0]&&o[1]<t[3])){n.label=o[1];break}if(o[0]===6&&n.label<t[1]){n.label=t[1],t=o;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(o);break}t[2]&&n.ops.pop(),n.trys.pop();continue}o=i.call(e,n)}catch(l){o=[6,l],a=0}finally{r=t=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(et,"__esModule",{value:!0});et.updateHistory=void 0;var ec=$e,tr=Oe,Qt=ge,tc=["hmac","locale","protocol","session","shop","timestamp","host"];function nc(e,i){return Zu(this,void 0,void 0,function(){var n,r,a,t,u,h,A,o,l;return xu(this,function(_){switch(_.label){case 0:return n=Qt.getSelfWindow(),r=Qt.getTopWindow(),a=n===r,[4,e.getState("context").then(function(p){return p===ec.Context.Main})];case 1:return t=_.sent(),a||!t?[2]:(u=rc(i),tc.forEach(function(p){return u.searchParams.delete(p)}),h=u.pathname,A=u.search,o=u.hash,l=""+h+A+o,tr.History.create(e).dispatch(tr.History.Action.REPLACE,l),[2])}})})}et.updateHistory=nc;function rc(e){var i=Qt.getOrigin();if(typeof e=="string")return new URL(e,i);var n=e.pathname,r=e.search,a=e.hash;return new URL(""+n+r+a,i)}var ic=v&&v.__extends||function(){var e=function(i,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])},e(i,n)};return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(i,n);function r(){this.constructor=i}i.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ac=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});var oc=ac(K),uc=pe,nr=et,cc=function(e){ic(i,e);function i(){return e!==null&&e.apply(this,arguments)||this}return i.prototype.componentDidMount=function(){var n=this.props.location;nr.updateHistory(this.context,n)},i.prototype.componentDidUpdate=function(n){var r=n.location,a=this.props.location;a!==r&&nr.updateHistory(this.context,a)},i.prototype.render=function(){return null},i.contextType=uc.AppBridgeContext,i}(oc.default.Component);wn.default=cc;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});var sc=K,fc=x,lc=et;function dc(e){var i=fc.useAppBridge();sc.useEffect(function(){lc.updateHistory(i,e)},[i,e])}Rn.default=dc;(function(e){var i=v&&v.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.useRoutePropagation=e.RoutePropagator=void 0;var n=wn;Object.defineProperty(e,"RoutePropagator",{enumerable:!0,get:function(){return i(n).default}});var r=Rn;Object.defineProperty(e,"useRoutePropagation",{enumerable:!0,get:function(){return i(r).default}})})(Mn);const pc="@shopify/app-bridge-react",vc="3.7.2",hc="index.d.ts",_c="index.js",yc="umd/index.js",Ac="umd/index.js",gc=["/components/","/umd/","/hooks/","/utilities/","/context.d.ts","/context.js","/index.d.ts","/index.js","/types.d.ts","/types.js","/useAppBridge.d.ts","/useAppBridge.js"],bc={access:"public","@shopify:registry":"https://registry.npmjs.org"},Pc="git@github.com:Shopify/app-bridge.git",Oc="https://shopify.dev/tools/app-bridge/react-components",Ec="Shopify Inc.",mc="MIT",Sc={build:"yarn build:tsc && yarn build:umd","build:tsc":"NODE_ENV=production tsc","build:umd":"NODE_ENV=production webpack -p",check:"tsc",clean:`cat package.json | node -pe "JSON.parse(require('fs').readFileSync('/dev/stdin').toString()).files.map(f => './'+f).join(' ')" | xargs rm -rf`,pack:"yarn pack",size:"size-limit"},Tc=!1,Cc={"@shopify/app-bridge":"^3.7.2"},Mc={"@shopify/react-testing":"^4.1.1","@types/react":"^18.0.2","react-dom":"^18.2.0"},wc={react:"^16.0.0 || ^17.0.0 || ^18.0.0"},Rc={name:pc,version:vc,types:hc,main:_c,unpkg:yc,jsdelivr:Ac,files:gc,private:!1,publishConfig:bc,repository:Pc,homepage:Oc,author:Ec,license:mc,scripts:Sc,sideEffects:Tc,"size-limit":[{limit:"32 KB",path:"index.js"}],dependencies:Cc,devDependencies:Mc,peerDependencies:wc};(function(e){var i=v&&v.__createBinding||(Object.create?function(d,f,s,c){c===void 0&&(c=s),Object.defineProperty(d,c,{enumerable:!0,get:function(){return f[s]}})}:function(d,f,s,c){c===void 0&&(c=s),d[c]=f[s]}),n=v&&v.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),r=v&&v.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var s in d)s!=="default"&&Object.prototype.hasOwnProperty.call(d,s)&&i(f,d,s);return n(f,d),f};Object.defineProperty(e,"__esModule",{value:!0}),e.setClientInterfaceHook=void 0;var a=r(K),t=r(Bu),u=pe,h=Sn,A=Mn,o=Rc;function l(d){var f=d.config,s=d.router,c=d.children,g=a.useMemo(function(){return t.default(f)},[]);a.useEffect(function(){g!=null&&g.hooks&&g.hooks.set(t.LifecycleHook.DispatchAction,e.setClientInterfaceHook)},[g]);var y=s!=null&&s.history&&(s!=null&&s.location)?a.default.createElement(p,{history:s.history,location:s.location}):null;return a.default.createElement(u.AppBridgeContext.Provider,{value:g},y,c)}var _=function(d){return function(f){return f.clientInterface={name:"@shopify/app-bridge-react",version:o.version},d(f)}};e.setClientInterfaceHook=_;function p(d){var f=d.history,s=d.location;return h.useClientRouting(f),A.useRoutePropagation(s),null}e.default=l})(Yr);var Ic=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(En,"__esModule",{value:!0});var Nc=Ic(Yr);En.default=Nc.default;var In={},ri={};(function(e){var i=v&&v.__assign||function(){return i=Object.assign||function(h){for(var A,o=1,l=arguments.length;o<l;o++){A=arguments[o];for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(h[_]=A[_])}return h},i.apply(this,arguments)},n=v&&v.__rest||function(h,A){var o={};for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&A.indexOf(l)<0&&(o[l]=h[l]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,l=Object.getOwnPropertySymbols(h);_<l.length;_++)A.indexOf(l[_])<0&&Object.prototype.propertyIsEnumerable.call(h,l[_])&&(o[l[_]]=h[l[_]]);return o};Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceType=e.ActionVerb=void 0;var r=K,a=on;Object.defineProperty(e,"ActionVerb",{enumerable:!0,get:function(){return a.ActionVerb}}),Object.defineProperty(e,"ResourceType",{enumerable:!0,get:function(){return a.ResourceType}});var t=x;function u(h){var A=h.open,o=h.resourceType,l=h.onSelection,_=h.onCancel,p=h.allowMultiple,d=h.selectMultiple,f=n(h,["open","resourceType","onSelection","onCancel","allowMultiple","selectMultiple"]),s=r.useMemo(function(){return i(i({},f),{selectMultiple:d??p})},[p,f,d]),c=t.useAppBridge(),g=r.useRef(!1);r.useEffect(function(){return function(){g.current=!0}},[]);var y=r.useRef(!1),b=r.useRef(s),P=r.useMemo(function(){return a.create(c,{resourceType:a.ResourceType[o],options:b.current})},[c,o]);r.useEffect(function(){return y.current=!1,function(){y.current&&g.current&&P.dispatch(a.Action.CANCEL)}},[P]);var m=r.useRef(null),M=r.useCallback(function(){document.activeElement instanceof HTMLElement&&(m.current=document.activeElement)},[]),S=r.useCallback(function(){var O=m.current;m.current=null,O&&document.contains(O)&&O.focus()},[]);return r.useEffect(function(){A!==y.current&&(y.current=A,A?(P.dispatch(a.Action.OPEN),M()):(P.dispatch(a.Action.CLOSE),S()))},[P,A,M,S]),r.useEffect(function(){if(l)return P.subscribe(a.Action.SELECT,function(){for(var O=[],C=0;C<arguments.length;C++)O[C]=arguments[C];return y.current=!1,S(),l.apply(void 0,O)})},[P,l,S]),r.useEffect(function(){if(_)return P.subscribe(a.Action.CANCEL,function(){return y.current=!1,S(),_()})},[P,_,S]),r.useEffect(function(){var O=JSON.stringify(s)!==JSON.stringify(b.current);O&&(b.current=s,P.set(s))},[P,s]),null}e.default=u})(ri);var Dc=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(In,"__esModule",{value:!0});var jc=Dc(ri);In.default=jc.default;var Nn={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});var kt=K,Yt=Pe,Lc=un,ii=ke,ai=Se,Bc=x;function Uc(e){var i=Bc.useAppBridge(),n=kt.useRef(),r=kt.useMemo(function(){return Lc.create(i,{})},[i]);return kt.useEffect(function(){var a,t=JSON.stringify(n.current)!==JSON.stringify(e);if(n.current=e,t)r.set(Gc(i,e));else{var u=e.primaryAction,h=e.secondaryActions,A=e.actionGroups,o=e.breadcrumbs,l=Array.isArray(o)?o[o.length-1]:o;Ke(l,r.options.breadcrumbs),Ke(u,(a=r.options.buttons)===null||a===void 0?void 0:a.primary),Fc(r,h),$c(r,A)}return function(){r.unsubscribe()}},[r,e]),null}Dn.default=Uc;function Fc(e,i){var n,r,a=((r=(n=e.options.buttons)===null||n===void 0?void 0:n.secondary)===null||r===void 0?void 0:r.filter(function(t){return!ii.isGroupedButton(t)}))||[];a==null||a.forEach(function(t,u){return Ke(i==null?void 0:i[u],t)})}function $c(e,i){var n,r,a=((r=(n=e.options.buttons)===null||n===void 0?void 0:n.secondary)===null||r===void 0?void 0:r.filter(ii.isGroupedButton))||[];a==null||a.forEach(function(t,u){var h=i==null?void 0:i[u];h&&t.options.buttons.forEach(function(A,o){return Ke(h.actions[o],A)})})}function Gc(e,i){var n=i.actionGroups,r=i.breadcrumbs,a=i.primaryAction,t=i.secondaryActions,u=i.title,h=Array.isArray(r)?r[r.length-1]:r;return{title:u,buttons:ai.transformActions(e,{primaryAction:a,secondaryActions:t,actionGroups:n}),breadcrumbs:h?kc(e,h):void 0}}function kc(e,i,n){var r=n||Yt.create(e,{label:i.content||""});return Ke(i,r),r}function Ke(e,i){if(!(!e||!i)){var n=ai.generateRedirect(i.app,e.url,e.target,e.external);n&&i.subscribe(Yt.Action.CLICK,n,i),e!=null&&e.onAction&&i.subscribe(Yt.Action.CLICK,e.onAction,i)}}var Wc=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nn,"__esModule",{value:!0});var Vc=Wc(Dn);Nn.default=Vc.default;var jn={},oi={};(function(e){var i=v&&v.__extends||function(){var h=function(A,o){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,_){l.__proto__=_}||function(l,_){for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&(l[p]=_[p])},h(A,o)};return function(A,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");h(A,o);function l(){this.constructor=A}A.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}(),n=v&&v.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_TOAST_DURATION=void 0;var r=n(K),a=Oe,t=pe;e.DEFAULT_TOAST_DURATION=5e3;var u=function(h){i(A,h);function A(){return h!==null&&h.apply(this,arguments)||this}return A.prototype.componentDidMount=function(){var o=this.context,l=this.props,_=l.error,p=l.content,d=l.duration,f=d===void 0?e.DEFAULT_TOAST_DURATION:d,s=l.onDismiss,c=l.action;this.toast=a.Toast.create(o,{message:p,duration:f,isError:_,action:c!=null&&c.content?{content:c==null?void 0:c.content}:void 0}),c!=null&&c.onAction&&this.toast.subscribe(a.Toast.Action.ACTION,c==null?void 0:c.onAction),this.toast.subscribe(a.Toast.Action.CLEAR,s),this.toast.dispatch(a.Toast.Action.SHOW)},A.prototype.componentWillUnmount=function(){this.toast.unsubscribe()},A.prototype.render=function(){return null},A.contextType=t.AppBridgeContext,A}(r.default.PureComponent);e.default=u})(oi);var Hc=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jn,"__esModule",{value:!0});var zc=Hc(oi);jn.default=zc.default;var Ln={},Bn={},Kc=v&&v.__rest||function(e,i){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)i.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};Object.defineProperty(Bn,"__esModule",{value:!0});var se=K,Ae=fn,qc=x;function Xc(e){var i=e.open,n=e.onCancel,r=e.onSelect,a=e.onSearch,t=e.onLoadMore,u=Kc(e,["open","onCancel","onSelect","onSearch","onLoadMore"]),h=qc.useAppBridge(),A=se.useRef(!1);se.useEffect(function(){return function(){A.current=!0}},[]);var o=se.useRef(!1),l=se.useRef(u),_=se.useMemo(function(){return Ae.create(h,l.current)},[h]);return se.useEffect(function(){return o.current=!1,function(){o.current&&A.current&&_.dispatch(Ae.Action.CANCEL)}},[_]),se.useEffect(function(){i!==o.current&&(o.current=i,i?_.dispatch(Ae.Action.OPEN):_.dispatch(Ae.Action.CANCEL))},[_,i]),se.useEffect(function(){if(r)return _.subscribe(Ae.Action.SELECT,function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];return o.current=!1,r.apply(void 0,p)})},[_,r]),se.useEffect(function(){if(n)return _.subscribe(Ae.Action.CANCEL,function(){return o.current=!1,n()})},[_,n]),se.useEffect(function(){if(a)return _.subscribe(Ae.Action.SEARCH,a)},[_,a]),se.useEffect(function(){if(t)return _.subscribe(Ae.Action.LOAD_MORE,t)},[_,t]),se.useEffect(function(){var p=JSON.stringify(u)!==JSON.stringify(l.current);p&&(l.current=u,_.set(u,o.current))},[_,u]),null}Bn.default=Xc;var Qc=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ln,"__esModule",{value:!0});var Yc=Qc(Bn);Ln.default=Yc.default;(function(e){var i=v&&v.__createBinding||(Object.create?function(d,f,s,c){c===void 0&&(c=s),Object.defineProperty(d,c,{enumerable:!0,get:function(){return f[s]}})}:function(d,f,s,c){c===void 0&&(c=s),d[c]=f[s]}),n=v&&v.__exportStar||function(d,f){for(var s in d)s!=="default"&&!Object.prototype.hasOwnProperty.call(f,s)&&i(f,d,s)},r=v&&v.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.unstable_Picker=e.Toast=e.TitleBar=e.ResourcePicker=e.Provider=e.NavigationMenu=e.ModalContent=e.Modal=e.Loading=e.ContextualSaveBar=void 0;var a=Zt;Object.defineProperty(e,"ContextualSaveBar",{enumerable:!0,get:function(){return r(a).default}});var t=vn;Object.defineProperty(e,"Loading",{enumerable:!0,get:function(){return r(t).default}});var u=Xr;Object.defineProperty(e,"Modal",{enumerable:!0,get:function(){return r(u).default}}),Object.defineProperty(e,"ModalContent",{enumerable:!0,get:function(){return u.ModalContent}});var h=Pn;Object.defineProperty(e,"NavigationMenu",{enumerable:!0,get:function(){return r(h).default}});var A=En;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return r(A).default}});var o=In;Object.defineProperty(e,"ResourcePicker",{enumerable:!0,get:function(){return r(o).default}});var l=Nn;Object.defineProperty(e,"TitleBar",{enumerable:!0,get:function(){return r(l).default}});var _=jn;Object.defineProperty(e,"Toast",{enumerable:!0,get:function(){return r(_).default}});var p=Ln;Object.defineProperty(e,"unstable_Picker",{enumerable:!0,get:function(){return r(p).default}}),n(Mn,e),n(Sn,e)})(_r);(function(e){var i=v&&v.__createBinding||(Object.create?function(t,u,h,A){A===void 0&&(A=h),Object.defineProperty(t,A,{enumerable:!0,get:function(){return u[h]}})}:function(t,u,h,A){A===void 0&&(A=h),t[A]=u[h]}),n=v&&v.__exportStar||function(t,u){for(var h in t)h!=="default"&&!Object.prototype.hasOwnProperty.call(u,h)&&i(u,t,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.useAppBridge=e.Context=void 0;var r=pe;Object.defineProperty(e,"Context",{enumerable:!0,get:function(){return r.AppBridgeContext}});var a=x;Object.defineProperty(e,"useAppBridge",{enumerable:!0,get:function(){return a.useAppBridge}}),n(_r,e),n(en,e)})(Ea);export{Ea as a,ci as b,Oe as c};
